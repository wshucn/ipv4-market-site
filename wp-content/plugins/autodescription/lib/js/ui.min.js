"use strict";window.tsfUI=function(a){function b(){let b=a(".postbox[id^=\"autodescription-\"], .postbox#tsf-inpost-box");a(document).on("postbox-toggled",(c,d)=>{if(!d||!b.is(d))return;d=a(d);let e=d.find("input:invalid, select:invalid, textarea:invalid");e.length&&setTimeout(()=>{if(d.is(":hidden"))a(`#${d.attr("id")}-hide`).trigger("click.postboxes");else if(d.hasClass("closed"))d.find(".hndle, .handlediv").first().trigger("click.postboxes");else{let b=e.get(0);a(b).is(":visible")&&b.reportValidity()}})})}function c(){const a=a=>{const b=a.target.closest(".tsf-notice"),c=a.target.dataset.key,d=a.target.dataset.nonce;b.style.transformOrigin="bottom";const e=b.animate([{transform:"scaleY(1)",maxHeight:`${b.clientHeight}px`,opacity:1},{transform:"scaleY(1)",opacity:0},{transform:"scaleY(0)",maxHeight:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0,opacity:0}],{duration:200,iterations:1});e.onfinish=()=>b.remove(),c&&d&&wp.ajax.post("tsf_dismiss_notice",{tsf_dismiss_key:c,tsf_dismiss_nonce:d})},b=()=>{document.querySelectorAll(".tsf-dismiss").forEach(b=>{b.addEventListener("click",a)})};document.body.addEventListener("tsf-reset-notice-listeners",b),b()}async function d(a,b=125,c=void 0,d={}){for(const e in d=Object.assign({opacity:"1",animation:"tsf-fade-in",animationDuration:`${b}ms`,animationTimingFunction:"cubic-bezier(.54,.12,.90,.60)"},d),d)a.style[e]=d[e];const f=e(a);return await tsfUtils.delay(b),f.unsetIfUnchanged(),"function"==typeof c&&c(),Promise.resolve()}function e(a,b){b||=a.style.animation??"";const c=`${b}:${Date.now()}`;return a.dataset.tsfIsAnimating=c,{unchanged:()=>c===a.dataset.tsfIsAnimating,unsetIfUnchanged:()=>{c===a.dataset.tsfIsAnimating&&(a.style.animation=null)}}}return Object.assign({load:()=>{document.body.addEventListener("tsf-ready",b),document.body.addEventListener("tsf-ready",c)}},{fadeIn:d,fadeOut:function(a,b=125,c=void 0,e={}){return e=Object.assign({opacity:"0",animation:"tsf-fade-out"},e),d(a,b,c,e)},traceAnimation:e})}(jQuery),window.tsfUI.load();
