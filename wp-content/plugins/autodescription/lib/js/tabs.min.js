"use strict";window.tsfTabs=function(){function a(){let a=new Event("change");h.forEach(b=>{b.fixHistory&&document.querySelectorAll(`.${b.HTMLClasses.tabRadio}:checked`).forEach(b=>{b.dispatchEvent(a)})})}function b(a,b){const c=g(a),e=document.getElementById(b);e?.setAttribute("disabled",""),document.querySelector(`.${c.HTMLClasses.tabLabel}[for="${b}"]`)?.classList.add("hidden"),e?.checked&&d(a,e.closest(`.${c.HTMLClasses.wrapper}`)?.querySelector(`.${c.HTMLClasses.tabRadio}:not([disabled])`))}function c(a,b){const c=g(a);document.getElementById(b)?.removeAttribute("disabled"),document.querySelector(`.${c.HTMLClasses.tabLabel}[for="${b}"]`)?.classList.remove("hidden")}function d(a,b){const c=g(a),d=document.getElementById(`${b.id}-content`),e=document.getElementById(b.id);e.checked=!0,d&&!d.classList.contains(c.HTMLClasses.activeTabContent)&&(document.querySelectorAll(`.${b.name}-content`).forEach(a=>{a.classList.remove(c.HTMLClasses.activeTabContent)}),d.classList.add(c.HTMLClasses.activeTabContent)),e.dispatchEvent(c.tabToggledEvent)}function e(a,b){const c=b.name,d=g(a),e=125,f=175,h=i.get("container").get(c),j=document.querySelectorAll(`.${b.name}-content`),k=()=>{h.style.boxSizing="border-box",h.style.minHeight=`${h.getBoundingClientRect().height}px`},l=()=>{h.style.minHeight=""},m=async()=>{let a=document.getElementById(`${i.get("target").get(c)}-content`);return k(),j.forEach(a=>{a.classList.remove(d.HTMLClasses.activeTabContent)}),a.classList.add(d.HTMLClasses.activeTabContent),l(),tsfUI.fadeIn(a,f),await tsfUtils.delay(2*f/3),n()},n=async()=>{let a=document.getElementById(`${i.get("target").get(c)}-content`);!a||a.classList.contains(d.HTMLClasses.activeTabContent)?(p(),document.getElementById(i.get("target").get(c)).dispatchEvent(d.tabToggledEvent)):(k(),j.forEach(a=>{a.classList.remove(d.HTMLClasses.activeTabContent)}),requestAnimationFrame(()=>{m()&&p()}))},o=()=>new Promise(async a=>(j.forEach(a=>{tsfUI.fadeOut(a,e)}),await tsfUtils.delay(e),m()&&a())),p=()=>i.get("promises").delete(c);(()=>{i.get("promises").has(c)||(i.get("promises").set(c,o),i.get("promises").get(c)())})()}function f(a,b){const c=g(a),f=b.target,h=!b.isTrusted,j=b.target.id,k=b.target.name,l=k;i.get("wrap").has(l)||i.get("wrap").set(l,f.closest(`.${c.HTMLClasses.wrapper}`));const m=i.get("wrap").get(l).querySelector(`.${c.HTMLClasses.activeTab}`);if(!h){const a=document.querySelector(`.${c.HTMLClasses.activeTabContent} :invalid`);if(a)return a.reportValidity(),m&&(m.checked=!0),f.checked=!1,b.stopPropagation(),b.preventDefault(),!1}if(m){m.classList.remove(c.HTMLClasses.activeTab);let a=document.querySelector(`.${c.HTMLClasses.tabLabel}[for="${m.id}"]`);a&&a.classList.remove("tsf-no-focus-ring")}if(f.classList.add(c.HTMLClasses.activeTab),h)d(a,b.target);else{if(i.get("container").has(l)||i.get("container").set(l,f.closest(".inside")),i.get("target").set(l,j),i.get("promises").has(l))return;e(a,b.target)}}function g(a){return h.get(a)}const h=new Map,i=new Map;return Object.assign({load:()=>{i.set("promises",new Map),i.set("target",new Map),i.set("wrap",new Map),i.set("container",new Map),window.addEventListener("load",a)}},{hideTab:b,showTab:c,toggleTab:function(a,d,e){null==e?document.getElementById(d)?.disabled?c(a,d):b(a,d):e?c(a,d):b(a,d)},toggleToInstant:d,toggleTo:e,getStack:g,initStack:function(a,b){h.set(a,b);const c=g(a),d=b=>f(a,b),e=a=>a.currentTarget.classList.add("tsf-no-focus-ring");document.querySelectorAll(`.${c.HTMLClasses.tabRadio}`).forEach(a=>{a.addEventListener("change",d)}),document.querySelectorAll(`.${c.HTMLClasses.wrapper} .${c.HTMLClasses.tabLabel}`).forEach(a=>{a.addEventListener("click",e)})}})}(),window.tsfTabs.load();
