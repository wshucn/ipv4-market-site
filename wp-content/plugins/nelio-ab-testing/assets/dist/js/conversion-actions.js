(()=>{var e={d:(n,o)=>{for(var r in o)e.o(o,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:o[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";e.r(n),e.d(n,{conversionActions:()=>t});var o={};e.r(o),e.d(o,{getConversionActionType:()=>a,getConversionActionTypes:()=>c});var r={};e.r(r),e.d(r,{addConversionActionTypes:()=>u,removeConversionActionTypes:()=>p});var t={};e.r(t),e.d(t,{createConversionAction:()=>A,registerConversionActionType:()=>_,store:()=>d});const i=window.wp.data,s=window.lodash;function c(e){return(0,s.values)(e.conversionActionTypes)}var a=function(e,n){return e.conversionActionTypes[n]};function u(e){return{type:"ADD_CONVERSION_ACTION_TYPES",conversionActionTypes:(0,s.castArray)(e)}}function p(e){return{type:"REMOVE_CONVERSION_ACTION_TYPES",names:(0,s.castArray)(e)}}var l={conversionActionTypes:{}},f=function(){return f=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},f.apply(this,arguments)},d=(0,i.createReduxStore)("nab/conversion-actions",{reducer:function(e,n){var o;return void 0===e&&(e=l),null!==(o=function(e,n){switch(n.type){case"ADD_CONVERSION_ACTION_TYPES":return f(f({},e),{conversionActionTypes:f(f({},e.conversionActionTypes),(0,s.keyBy)(n.conversionActionTypes,"name"))});case"REMOVE_CONVERSION_ACTION_TYPES":return f(f({},e),{conversionActionTypes:(0,s.omit)(e.conversionActionTypes,n.names)})}}(e,n))&&void 0!==o?o:e},selectors:o,actions:r});!function(e){(0,i.register)(e)}(d);const y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var v,m=new Uint8Array(16);function h(){if(!v&&!(v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(m)}for(var T=[],b=0;b<256;++b)T.push((b+256).toString(16).slice(1));const g=function(e,n,o){if(y.randomUUID&&!n&&!e)return y.randomUUID();var r=(e=e||{}).random||(e.rng||h)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){o=o||0;for(var t=0;t<16;++t)n[o+t]=r[t];return n}return function(e,n=0){return(T[e[n+0]]+T[e[n+1]]+T[e[n+2]]+T[e[n+3]]+"-"+T[e[n+4]]+T[e[n+5]]+"-"+T[e[n+6]]+T[e[n+7]]+"-"+T[e[n+8]]+T[e[n+9]]+"-"+T[e[n+10]]+T[e[n+11]]+T[e[n+12]]+T[e[n+13]]+T[e[n+14]]+T[e[n+15]]).toLowerCase()}(r)};var O=function(){return O=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},O.apply(this,arguments)};function A(e,n){var o=(0,(0,i.select)(d).getConversionActionType)(e);if(o)return{id:g(),type:e,attributes:O(O({},o.attributes),n||{}),scope:o.scope}}const C=window.nab.utils;var w=function(){return w=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},w.apply(this,arguments)};function _(e,n){if("string"==typeof e)if(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(e))if((0,i.select)(d).getConversionActionType(e))console.error("Conversion action “".concat(e,"” is already registered."));else if(S(n))if(E(n))if(I(n))if(j(n))if(N(n))if((0,C.isValidIcon)(n.icon))if(P(n)){if(U(n)){var o=w({name:e},n);return(0,i.dispatch)(d).addConversionActionTypes(o),o}console.error("The “edit” property must be a valid function.")}else console.error("The “view” property must be a valid function.");else console.error("The icon passed is invalid. The icon should be an element or a function.");else console.error("The conversion action “".concat(e,"” must have an icon."));else console.error("Conversion action “".concat(e,"” should specify its default scope."));else console.error("Conversion action “".concat(e,"” should specify its default attributes."));else console.error("Conversion action “".concat(e,"” should specify a description."));else console.error("Conversion action “".concat(e,"” should specify a title."));else console.error("Conversion action names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-conversion-action");else console.error("Conversion action names must be strings.")}var S=function(e){return"string"==typeof e.title&&!!e.title},E=function(e){return"string"==typeof e.description&&!!e.description},I=function(e){return!!e.attributes},j=function(e){return!!e.scope},N=function(e){return"icon"in e},P=function(e){return(0,s.isFunction)(e.view)},U=function(e){return(0,s.isFunction)(e.edit)}})();var o=nab="undefined"==typeof nab?{}:nab;for(var r in n)o[r]=n[r];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();