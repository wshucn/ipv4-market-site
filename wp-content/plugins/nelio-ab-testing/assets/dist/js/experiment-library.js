(()=>{var e,t={6169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{experimentLibrary:()=>a});var a={};n.r(a),n.d(a,{registerCoreExperiments:()=>Qe});const i=window.nab.experiments,r=window.wp.i18n,o=window.nab.components,l=window.React;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}const c=window.wp.element;var u={name:"nab/css",category:"global",title:(0,r._x)("CSS","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test different CSS rules on your site","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"m11.188 5.205 9.847 106.076L64 122.795l42.965-11.514 9.847-106.076H64Z",style:{fill:"#255da9"}}),l.createElement("path",{d:"M30.568 26.557h65.94l-1.219 14.078-30.213 12.27h29.15L90.73 93.29l-26.795 7.879-26.797-7.879-1.965-19.97h13.521l1.313 10.25 13.928 3.677 14.705-4.469 1.058-16.549H34.473l-1.264-12.847L64.98 40.48H31.94Z",style:{fill:"#fff"}}))},supports:{alternativeEdition:{type:"external"},alternativePreviewDialog:function(e){var t=e.attributes.css;return c.createElement(o.CodeEditor,{className:"nab-css-value-preview",language:"css",value:t,readOnly:!0})},scope:"urls"},checks:{getControlError:function(){return!1},getAlternativeError:function(){return!1}},help:{original:(0,r._x)("CSS split tests help you to improve the conversion rate of your WordPress site by changing its look and feel. The control version (commonly known as the “A” version) is how your site currently looks with the active theme, with no extra CSS snippets loaded in the front-end.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more CSS snippets that will be loaded after your theme’s own styles. This way, you can test what style works the best for you. Click on the “Edit” link of each variant to view and edit the corresponding CSS snippet.","user","nelio-ab-testing")},defaults:{original:{},alternative:{name:"",css:""}},views:{original:function(){return c.createElement("p",{className:"nab-css-original-version"},(0,r._x)("Current look and feel with no extra CSS styles","text","nelio-ab-testing"))},alternative:o.DefaultAlternative}};const p=window.nab.data;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const g=window.wp.components,v=window.wp.data;function m(e,t){return(0,v.useSelect)(e,t)}var f=n(6942),b=n.n(f);const h=window.lodash,y=window.nab.utils;var x="nab/editor",E=function(){return c.createElement("span",null,(0,r._x)("Test title and content only","command","nelio-ab-testing")," ",c.createElement(o.Tooltip,{text:(0,r._x)("If you enable this option, Nelio A/B Testing will load alternative content inline (no JavaScript redirection required). This will result in faster loading times and better user experience. Support for custom page builders is currently limited, so please make sure this option works as expected by previewing your variants after enabling this option.","text","nelio-ab-testing"),placement:"bottom"},c.createElement("span",{className:"nab-original-post-alternative__beta-help"},"Beta")))};function w(e,t){switch(e){case"page":return t?(0,r._x)("Test against already existing pages","command","nelio-ab-testing"):(0,r._x)("Test against an already existing page","command","nelio-ab-testing");case"post":return t?(0,r._x)("Test against already existing posts","command","nelio-ab-testing"):(0,r._x)("Test against an already existing post","command","nelio-ab-testing");default:return(0,r._x)("Test against already existing content","command","nelio-ab-testing")}}function _(e,t){return t?(0,r._x)("Loading compatible post types…","text","nelio-ab-testing"):(0,y.isEmpty)(e)?(0,r._x)("There are no compatible post types to select.","text","nelio-ab-testing"):(null==e?void 0:e.length)>1?(0,r._x)("First select the post type and then the actual content…","user","nelio-ab-testing"):void 0}var T=function(){return m((function(e){return e("nab/editor").getAlternative("control")}))},P={name:"nab/custom-post-type",category:"page",title:(0,r._x)("Custom Post Type","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a custom post type","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M74.454 38.903V3.853l35.052 35.05z",style:{fill:"#fed0a4"}}),l.createElement("path",{d:"M20.284 3.852h54.447v34.775h34.775v86.312H20.284z",style:{fill:"#ff9348"}}),l.createElement("path",{d:"M91.378 55.908 62.483 84.94 45.89 68.27l-7.116 7.16 15.039 15.113 7.75 7.788.92.92 36.01-36.192-7.116-7.16z",style:{fill:"#fff"}}))},supports:{alternativeApplication:function(e){return!(null==e?void 0:e.testAgainstExistingContent)},alternativeEdition:{type:"external",enabled:function(e){return!e.testAgainstExistingContent}},postTypeExceptions:function(e){return function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}(["page","post","attachment","nelio_popup","nelio_form","elementor_library","e-floating-buttons","nab_elementor_popup","sc_product"],e(p.store).getActivePlugins().includes("woocommerce/woocommerce.php")?["product","product_variation"]:[],!0)},scope:"tested-post-with-consistency"},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the element you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t,n){return!(!n.testAgainstExistingContent||e.postId)&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select an element in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e,t){return!!t.testAgainstExistingContent&&!e.postId}},help:{original:(0,r._x)("Split tests of custom post types help you to improve the conversion rate of your WordPress site by creating one or more variants of your content. The control version (commonly known as the “A” version) is the already-existing content from your site you want to run the test on.","user","nelio-ab-testing"),alternative:(0,r._x)("You can create one or more variants of your tested element. By default, each variant you create will be an exact copy of the tested element. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing element in the selected type.","user","nelio-ab-testing")},defaults:{original:{postType:"",postId:0},alternative:{name:"",postId:0}},views:{original:function(e){var t,n=e.attributes,a=e.setAttributes,r=e.disableExistingContentSelect,l=e.disableRunAsInlineTestSelect,s=e.validPostFilter,u=e.experimentType,d=!!m((function(e){return e(p.store).getPluginSetting("subscription")||!1})),f=m((function(e){return"".concat(e(x).getExperimentAttribute("status")).includes("paused")})),T=function(e){var t=(0,c.useState)([(0,y.createAlternative)()]),n=t[0],a=t[1],i=(0,v.useDispatch)(x).replaceAlternatives;return function(t){var r=(0,h.filter)((0,v.select)(x).getAlternatives(),(function(e){return"control"!==e.id}));i((0,h.map)(r,"id"),n),a(r),e({testAgainstExistingContent:!!t||void 0})}}(a),P=function(e){return m((function(t){var n=t(i.store),a=n.hasExperimentSupport,r=n.getExperimentSupport,o=t(p.store),l=o.getKindEntities,s=o.hasFinishedResolution,c=l()||[];if(c=c.filter((function(e){return"entity"===e.kind})),a(e,"postTypes")){var u=(0,h.castArray)(r(e,"postTypes"));return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return u.includes(t)})),showSinglePostType:1!==u.length,isLoadingPostTypes:!s("getKindEntities")}}if(a(e,"postTypeExceptions")){var d=(0,h.flow)((function(){return r(e,"postTypeExceptions")}),(function(e){return"function"==typeof e?e(t):e}),h.castArray)();return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return!d.includes(t)})),showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}return{postTypes:[],showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}))}(u),C=P.postTypes,A=P.showSinglePostType,I=P.isLoadingPostTypes,S=(0,p.usePluginSetting)("isCookieTestingEnabled"),k=null===(t=C[0])||void 0===t?void 0:t.name,O=n.postType||k,j=C.map((function(e){return{value:e.name,label:e.labels.singular_name}}));return c.createElement("div",{className:"nab-original-cpt-alternative"},c.createElement("div",{className:"nab-original-cpt-alternative__selector"},A&&(0,y.isSingleton)(C)&&c.createElement("input",{type:"text",value:C[0].labels.singular_name,disabled:!0}),(0,y.isMultiArray)(C)&&c.createElement(g.SelectControl,{value:O,options:j,disabled:!!n.postId,onChange:function(e){return a({postId:void 0,postType:e})}}),c.createElement(o.PostSearcher,{disabled:(0,y.isEmpty)(C),type:O,value:n.postId,perPage:10,onChange:function(e){return a({postId:e,postType:O})},filter:s,placeholder:_(C,I)})),!l&&!S&&c.createElement("div",{className:b()({"nab-original-cpt-alternative__run-as-inline":!0,"nab-original-cpt-alternative__run-as-inline--is-disabled":!!n.testAgainstExistingContent})},c.createElement(g.CheckboxControl,{label:c.createElement(E,null),disabled:!!n.testAgainstExistingContent,checked:!!n.runAsInlineTest,onChange:function(e){return a({runAsInlineTest:e})}})),!r&&c.createElement("div",{className:b()({"nab-original-cpt-alternative__existing-content":!0,"nab-original-cpt-alternative__existing-content--is-disabled":f||!!n.runAsInlineTest})},c.createElement(g.CheckboxControl,{label:w(O,d),disabled:f||!!n.runAsInlineTest,checked:!!n.testAgainstExistingContent,onChange:T})))},alternative:function(e){var t=e.attributes,n=e.disabled,a=e.placeholder,i=void 0===a?(0,r._x)("Describe your variant…","user","nelio-ab-testing"):a,l=e.setAttributes,s=function(){var e;return!!(null===(e=T())||void 0===e?void 0:e.attributes.testAgainstExistingContent)}(),u=function(){var e;return null===(e=T())||void 0===e?void 0:e.attributes.postType}();return(0,c.useEffect)((function(){l({isExistingContent:!!s||void 0})}),[s]),s?c.createElement(o.PostSearcher,{disabled:n||!u,type:u||"post",value:t.postId,perPage:10,onChange:function(e){return l({postId:e})},placeholder:(0,r._x)("Select variant…","user","nelio-ab-testing")}):c.createElement(g.TextControl,{disabled:n,value:t.name,onChange:function(e){return l({name:e})},placeholder:i})}}};const C=window.nab.conversionActions;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},A.apply(null,arguments)}const I=window.wp.mediaUtils;var S=function(e){var t=e.imageId,n=e.imageUrl,a=e.defaultImageId,i=e.defaultImageUrl,l=e.disabled,s=e.excerpt,u=e.excerptPlaceholder,p=e.onImageChange,d=e.onExcerptChange;return c.createElement("div",{className:"nab-alternative-list__alternative-image-and-excerpt"},(!p||l)&&c.createElement(k,{src:n||i}),!l&&!!p&&!!t&&c.createElement(o.Tooltip,{text:a?(0,r._x)("Click to use the original featured image","user","nelio-ab-testing"):(0,r._x)("Click to remove featured image","user","nelio-ab-testing")},c.createElement(g.Button,{className:"nab-alternative-list__alternative-image-button nab-alternative-list__alternative-image-button--is-remove",onClick:function(){return p(0,"")},disabled:l},c.createElement(k,{src:n||i}))),!l&&!!p&&!t&&c.createElement(I.MediaUpload,{title:(0,r._x)("Alternative Featured Image","text","nelio-ab-testing"),allowedTypes:["image"],value:t||a,onSelect:function(e){var t,n=e.id,a=e.sizes,i=e.url;return p(n,(null===(t=null==a?void 0:a.thumbnail)||void 0===t?void 0:t.url)||i)},render:function(e){var t=e.open;return c.createElement(o.Tooltip,{text:a?(0,r._x)("Click to set a different featured image","user","nelio-ab-testing"):(0,r._x)("Click to set a featured image","user","nelio-ab-testing")},c.createElement(g.Button,{className:"nab-alternative-list__alternative-image-button nab-alternative-list__alternative-image-button--is-set",onClick:t},c.createElement(k,{src:n||i})))}}),c.createElement(g.TextareaControl,{className:"nab-alternative-list__alternative-excerpt",readOnly:!d,value:s,placeholder:u,onChange:d||h.noop,disabled:l}))},k=function(e){var t=e.src;return t?c.createElement("img",{className:"nab-alternative-list__alternative-image",alt:(0,r._x)("Featured Image","text","nelio-ab-testing"),src:t}):c.createElement(o.FancyIcon,{className:"nab-alternative-list__alternative-image"})},O=function(){return m((function(e){var t=(0,e("nab/editor").getAlternative)("control");if(null==t?void 0:t.attributes.postId)return(0,e(p.store).getEntityRecord)(t.attributes.postType,t.attributes.postId)}))},j="nab/editor",M=function(e){var t,n=e.attributes,a=e.setAttributes,i=e.disableExistingContentSelect,r=e.disableRunAsInlineTestSelect,l=e.validPostFilter,s=e.experimentType,u=!!H(),d=L(),v=z(a),m=q(s),f=m.postTypes,h=m.showSinglePostType,x=m.isLoadingPostTypes,E=(0,p.usePluginSetting)("isCookieTestingEnabled"),w=null===(t=f[0])||void 0===t?void 0:t.name,_=n.postType||w,T=f.map((function(e){return{value:e.name,label:e.labels.singular_name}}));return c.createElement("div",{className:"nab-original-post-alternative"},c.createElement("div",{className:"nab-original-post-alternative__selector"},h&&(0,y.isSingleton)(f)&&c.createElement("input",{type:"text",value:f[0].labels.singular_name,disabled:!0}),(0,y.isMultiArray)(f)&&c.createElement(g.SelectControl,{value:_,options:T,disabled:!!n.postId,onChange:function(e){return a({postId:void 0,postType:e})}}),c.createElement(o.PostSearcher,{disabled:(0,y.isEmpty)(f),type:_,value:n.postId,perPage:10,onChange:function(e){return a({postId:e,postType:_})},filter:l,placeholder:D(f,x)})),!r&&!E&&c.createElement("div",{className:b()({"nab-original-post-alternative__run-as-inline":!0,"nab-original-post-alternative__run-as-inline--is-disabled":!!n.testAgainstExistingContent})},c.createElement(g.CheckboxControl,{label:c.createElement(N,null),disabled:!!n.testAgainstExistingContent,checked:!!n.runAsInlineTest,onChange:function(e){return a({runAsInlineTest:e})}})),!i&&c.createElement("div",{className:b()({"nab-original-post-alternative__existing-content":!0,"nab-original-post-alternative__existing-content--is-disabled":d||!!n.runAsInlineTest})},c.createElement(g.CheckboxControl,{label:B(_,u),disabled:d||!!n.runAsInlineTest,checked:!!n.testAgainstExistingContent,onChange:v})))},N=function(){return c.createElement("span",null,(0,r._x)("Test title and content only","command","nelio-ab-testing")," ",c.createElement(o.Tooltip,{text:(0,r._x)("If you enable this option, Nelio A/B Testing will load alternative content inline (no JavaScript redirection required). This will result in faster loading times and better user experience. Support for custom page builders is currently limited, so please make sure this option works as expected by previewing your variants after enabling this option.","text","nelio-ab-testing"),placement:"bottom"},c.createElement("span",{className:"nab-original-post-alternative__beta-help"},"Beta")))},H=function(){return m((function(e){return e(p.store).getPluginSetting("subscription")||!1}))},L=function(){return m((function(e){return"".concat(e(j).getExperimentAttribute("status")).includes("paused")}))},q=function(e){return m((function(t){var n=t(i.store),a=n.hasExperimentSupport,r=n.getExperimentSupport,o=t(p.store),l=o.getKindEntities,s=o.hasFinishedResolution,c=l()||[];if(c=c.filter((function(e){return"entity"===e.kind})),a(e,"postTypes")){var u=(0,h.castArray)(r(e,"postTypes"));return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return u.includes(t)})),showSinglePostType:1!==u.length,isLoadingPostTypes:!s("getKindEntities")}}if(a(e,"postTypeExceptions")){var d=(0,h.castArray)(r(e,"postTypeExceptions"));return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return!d.includes(t)})),showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}return{postTypes:[],showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}))},z=function(e){var t=(0,c.useState)([(0,y.createAlternative)()]),n=t[0],a=t[1],i=(0,v.useDispatch)(j).replaceAlternatives;return function(t){var r=(0,h.filter)((0,v.select)(j).getAlternatives(),(function(e){return"control"!==e.id}));i((0,h.map)(r,"id"),n),a(r),e({testAgainstExistingContent:!!t||void 0})}};function B(e,t){switch(e){case"page":return t?(0,r._x)("Test against already existing pages","command","nelio-ab-testing"):(0,r._x)("Test against an already existing page","command","nelio-ab-testing");case"post":return t?(0,r._x)("Test against already existing posts","command","nelio-ab-testing"):(0,r._x)("Test against an already existing post","command","nelio-ab-testing");default:return(0,r._x)("Test against already existing content","command","nelio-ab-testing")}}function D(e,t){return t?(0,r._x)("Loading compatible post types…","text","nelio-ab-testing"):(0,y.isEmpty)(e)?(0,r._x)("There are no compatible post types to select.","text","nelio-ab-testing"):(null==e?void 0:e.length)>1?(0,r._x)("First select the post type and then the actual content…","user","nelio-ab-testing"):void 0}var U=function(){return U=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)},W=function(){return W=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W.apply(this,arguments)},F=function(){return F=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)},R={name:"nab/headline",category:"page",title:(0,r._x)("Headline","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a title, featured image, and excerpt","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M25.753 19.803h64.632l16.817 16.158v16.158h-81.45z",style:{fill:"#2b471f"}}),l.createElement("path",{d:"M26.635 51.546h80.121v60.264h-80.12z",style:{fill:"#508139"}}),l.createElement("path",{d:"M80.711 5v.019H15.28V123.39h99.737v-84.23h-.143L80.806 5.096v-.076h-.076zM30.383 24.798H80.71v14.48H99.61v10.715H30.383zm40.264 31.25H99.24v6.29H70.647zm0 11.269h28.727v6.256H70.647zm0 11.235h28.727v6.324H70.647zM30.854 89.854h68.52v6.29h-68.52zm0 11.235h27.314v6.358H30.854z",style:{fill:"#8ac072"}}),l.createElement("path",{d:"M30.854 55.805h35.019V84.74h-35.02z",style:{fill:"#f2f8ef"}}))},supports:{alternativeApplication:!0,automaticGoalSetup:function(e){return[F(F({},(0,C.createConversionAction)("nab/page-view",{postType:"post",postId:e.postId})),{scope:{type:"post-ids",ids:e.postId?[e.postId]:[]}})]},postTypes:"post",scope:"urls-with-tested-post"},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the post whose headline you want to test","user","nelio-ab-testing")},getAlternativeError:function(){return!1}},help:{original:(0,r._x)("Headline split tests help you to improve the engagement with your audience by creating one or more variants of the title, excerpt, and featured image of a blog post. The control version (commonly known as the “A” version) is the already-existing blog post you want to test with its current headline.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create and edit one or more variants of your tested post’s headline. By default, each variant you create will use the post’s current headline.","user","nelio-ab-testing")},defaults:{original:{postType:"post",postId:0},alternative:{name:"",excerpt:"",imageId:0,imageUrl:""}},views:{original:function(e){var t=function(e){var t,n,a,i=O();return{imageId:null!==(t=null==i?void 0:i.imageId)&&void 0!==t?t:0,imageUrl:null!==(n=null==i?void 0:i.imageSrc)&&void 0!==n?n:"",excerpt:null!==(a=null==i?void 0:i.excerpt)&&void 0!==a?a:"",excerptPlaceholder:e||(0,r._x)("(no excerpt)","text","nelio-ab-testing")}}(e.excerptPlaceholder);return c.createElement(c.Fragment,null,c.createElement(M,U({disableExistingContentSelect:!0,disableRunAsInlineTestSelect:!0},e)),c.createElement(S,U({},t)))},alternative:function(e){var t=e.disabled,n=e.setAttributes,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n}(e,["disabled","setAttributes"]),i=function(e){var t,n,a,i,o,l,s,c,u,p,d,g=null!==(n=null===(t=e.attributes)||void 0===t?void 0:t.imageId)&&void 0!==n?n:0,v=null!==(i=null===(a=e.attributes)||void 0===a?void 0:a.imageUrl)&&void 0!==i?i:"",m=null!==(l=null===(o=e.attributes)||void 0===o?void 0:o.excerpt)&&void 0!==l?l:"",f=null!==(s=e.excerptPlaceholder)&&void 0!==s?s:"",b=O();return{imageId:g,imageUrl:v,excerpt:m,originalTitle:null!==(c=null==b?void 0:b.title)&&void 0!==c?c:"",originalImageId:null!==(u=null==b?void 0:b.imageId)&&void 0!==u?u:0,originalImageUrl:null!==(p=null==b?void 0:b.imageSrc)&&void 0!==p?p:"",excerptPlaceholder:(null!==(d=null==b?void 0:b.excerpt)&&void 0!==d?d:"")||f||(0,r._x)("(no excerpt)","text","nelio-ab-testing")}}(a),l=i.excerpt,s=i.excerptPlaceholder,u=i.imageId,p=i.imageUrl,d=i.originalImageId,g=i.originalImageUrl,v=i.originalTitle;return c.createElement(c.Fragment,null,c.createElement(o.DefaultAlternative,W({},a,{setAttributes:n,placeholder:v||(0,r._x)("Write an alternative title…","user","nelio-ab-testing"),disabled:t})),c.createElement(S,{imageId:u,imageUrl:p,excerpt:l,excerptPlaceholder:s,defaultImageId:d,defaultImageUrl:g,disabled:t,onImageChange:function(e,t){return n({imageId:e,imageUrl:t})},onExcerptChange:function(e){return n({excerpt:e})}}))}}};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V.apply(null,arguments)}var Z={name:"nab/heatmap",category:"page",title:(0,r._x)("Heatmap","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Discover which parts of a web page are attracting the most attention","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M14.847 14.847h28.475v28.475H14.847Z",style:{fill:"#48489d"}}),l.createElement("path",{d:"M49.424 14.847h28.474v28.475H49.424Z",style:{fill:"#6464b8"}}),l.createElement("path",{d:"M84.678 14.847h28.475v28.475H84.678Z",style:{fill:"#9292cd"}}),l.createElement("path",{d:"M14.847 49.424h28.475v28.474H14.847Z",style:{fill:"#6464b8"}}),l.createElement("path",{d:"M49.424 49.424h28.474v28.474H49.424Z",style:{fill:"#7a7ac2"}}),l.createElement("path",{d:"M84.678 49.424h28.475v28.474H84.678Z",style:{fill:"#9494ce"}}),l.createElement("path",{d:"M14.847 84.678h28.475v28.475H14.847Z",style:{fill:"#9292cd"}}),l.createElement("path",{d:"M49.424 84.678h28.474v28.475H49.424Z",style:{fill:"#9494ce"}}),l.createElement("path",{d:"M84.678 84.678h28.475v28.475H84.678Z",style:{fill:"#9f9fd3"}}))}};function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(null,arguments)}var Y=[(0,r._x)("Customize when the plugin should track page views in the control version. If left empty, Nelio A/B Testing will start tracking as soon as the page has been loaded.","user","nelio-ab-testing"),"\n","\n- ",(0,r._x)("Run callback when dom is ready","text","nelio-ab-testing"),"\n  utils.domReady( callback );","\n","\n- ",(0,r._x)("Show variant:","text","nelio-ab-testing"),"\n  utils.showContent();","\n","\n- ",(0,r._x)("Show variant and track events","text","nelio-ab-testing"),"\n  done();"].join(""),J={name:"nab/javascript",category:"global",title:(0,r._x)("JavaScript","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Apply changes to your pages by running JS code","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M10.953 10.953h106.094v106.094H10.953Z",style:{fill:"#f0db4f"}}),l.createElement("path",{d:"M51.945 108.646c-5.705-.505-10.107-3.348-12.683-8.19l-.447-.84 3.992-2.416a475 475 0 0 1 4.058-2.44c.036-.015.3.375.587.867 1.388 2.375 2.578 3.488 4.26 3.987.649.193 2.544.221 3.355.05 1.791-.376 2.87-1.535 3.37-3.623.17-.706.183-1.852.214-18.527l.032-17.775h9.883l-.034 18.43c-.036 20.386.015 18.793-.685 21.204-1.298 4.475-4.457 7.536-8.994 8.715-1.985.516-4.807.744-6.908.558m38.215.002c-4.071-.317-7.65-1.538-10.63-3.626-1.145-.802-3.15-2.789-3.94-3.903-1.01-1.424-1.599-2.481-1.456-2.614.17-.158 7.833-4.578 7.937-4.578.046 0 .232.23.412.512 1.755 2.735 4.034 4.483 6.724 5.159 1.2.3 3.905.325 5.1.045 1.747-.41 3.343-1.55 3.937-2.812.538-1.142.527-2.696-.026-3.879-.775-1.655-2.36-2.666-7.874-5.025-3.99-1.706-5.801-2.665-7.715-4.083-3.077-2.28-4.9-5.264-5.44-8.909-.198-1.332-.2-3.674-.006-4.876.65-4.01 3.164-7.394 6.866-9.243 3.631-1.813 8.92-2.16 13.204-.864 2.235.676 4.221 1.918 5.896 3.687.861.91 2.572 3.278 2.504 3.467-.03.084-7.332 4.8-7.58 4.895-.089.034-.31-.225-.626-.735-.67-1.08-1.926-2.314-2.773-2.728-.985-.48-1.804-.66-3.018-.664-1.71-.006-2.82.423-3.782 1.463-.648.7-.963 1.455-1.035 2.478-.096 1.374.292 2.543 1.147 3.457.925.989 2.275 1.727 6.443 3.526 8.474 3.656 11.784 6.34 13.4 10.87.567 1.588.709 2.595.712 5.066.003 2.11-.016 2.347-.264 3.39-.594 2.495-1.552 4.23-3.31 5.99-1.241 1.246-2.078 1.857-3.607 2.635-2.885 1.469-7.238 2.207-11.2 1.899",style:{fill:"#323330"}}))},supports:{alternativeEdition:{type:"external"},alternativePreviewDialog:function(e){var t=e.attributes.code;return c.createElement(o.CodeEditor,{className:"nab-javascript-value-preview",language:"javascript",value:t,readOnly:!0})},scope:"urls"},checks:{getControlError:function(){return!1},getAlternativeError:function(){return!1}},help:{original:(0,r._x)("JavaScript split tests help you to improve the conversion rate of your WordPress site by running custom code to tweak the tested page(s). The control version (commonly known as the “A” version) won’t run any code.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more JavaScript snippets that will be loaded when your page’s DOM is ready. Click on the “Edit” link of each variant to view and edit its associated snippet.","user","nelio-ab-testing")},defaults:{original:{},alternative:{name:"",code:""}},views:{original:function(e){var t=e.attributes,n=e.setAttributes,a=(0,c.useState)(!1),i=a[0],o=a[1],l=(0,c.useState)(""),s=l[0],u=l[1],p=t.code,d=void 0===p?"":p,v=(0,h.trim)(d)!==(0,h.trim)(s),m=function(){o(!1)};return c.createElement("div",null,c.createElement("div",{className:"nab-javascript-original-version"},c.createElement("p",null,(0,r._x)("Current look and feel","text","nelio-ab-testing")),c.createElement("div",{className:"nab-javascript-original-version__actions"},c.createElement(g.Button,{variant:"link",onClick:function(){u(d),o(!0)}},(0,r._x)("Customize Tracking","command","nelio-ab-testing")))),i&&c.createElement(g.Modal,{className:"nab-javascript-original-version__modal",title:(0,r._x)("Tracking Customization","text","nelio-ab-testing"),isDismissible:!1,onRequestClose:function(){},shouldCloseOnClickOutside:!1},c.createElement("div",{className:"nab-javascript-original-version__modal-content"},c.createElement(g.TextareaControl,{placeholder:Y,className:"nab-javascript-original-version__editor",onChange:u,value:s})),c.createElement("div",{className:"nab-javascript-original-version__modal-actions"},c.createElement(g.Button,{variant:"secondary",onClick:m},v?(0,r._x)("Discard Changes","command","nelio-ab-testing"):(0,r._x)("Close","command","nelio-ab-testing")),c.createElement(g.Button,{variant:"primary",onClick:function(){m(),n({code:(0,h.trim)(s)?(0,h.trim)(s):void 0})},disabled:!v},(0,r._x)("Save","command","nelio-ab-testing")))))},alternative:o.DefaultAlternative}};function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(null,arguments)}var G="nab/editor",Q=function(){return c.createElement("p",{className:"nab-alternative-menu-error"},c.createElement(g.Dashicon,{icon:"warning"})," ",(0,r._x)("Something went wrong and this variant could not be properly created. Please reset it and save the test again to see if that fixes the issue. If it doesn’t, please get in touch with support.","user","nelio-ab-testing"))},X=function(){return m((function(e){return e("nab/editor").getAlternative("control")}))},ee={name:"nab/menu",category:"global",title:(0,r._x)("Menu","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a menu","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M3.328 18.108H124.92v20.648H3.328zM3.328 54.624H124.92v20.648H3.328zM3.328 91.14H124.92v20.648H3.328z",style:{fill:"#6daa11"}}))},supports:{alternativeApplication:!0,alternativeEdition:{type:"external"},scope:"urls"},checks:{getControlError:function(e){return!e.menuId&&(0,r._x)("Please select the menu you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t,n){return!(!n.testAgainstExistingMenu||e.menuId)&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a menu in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e,t){return!!t.testAgainstExistingMenu&&!e.menuId},isTestTypeEnabled:function(e){return e(p.store).hasMenus()&&e(p.store).getPluginSetting("themeSupport").menus}},help:{original:(0,r._x)("Menu split tests help you to improve the conversion rate of your WordPress site by creating one or more variants of your navigation menus. The control version (commonly known as the “A” version) is the already-existing navigation menu you want to run the test on.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more variants of your tested menu. By default, each variant you create will be an exact copy of the tested menu. Click on the “Edit” link of each variant to tweak it as you please.","user","nelio-ab-testing")},defaults:{original:{menuId:0},alternative:{name:"",menuId:0}},views:{original:function(e){var t=e.attributes,n=e.setAttributes,a=m((function(e){return"".concat(e(G).getExperimentAttribute("status")).includes("paused")})),i=function(e){var t=(0,c.useState)([(0,y.createAlternative)()]),n=t[0],a=t[1],i=(0,v.useDispatch)(G).replaceAlternatives;return function(t){var r=(0,h.filter)((0,v.select)(G).getAlternatives(),(function(e){return"control"!==e.id}));i((0,h.map)(r,"id"),n),a(r),e({testAgainstExistingMenu:!!t||void 0})}}(n);return c.createElement("div",{className:"nab-original-menu-alternative"},c.createElement("div",{className:"nab-original-menu-alternative__selector"},c.createElement(o.MenuSearcher,{value:t.menuId,onChange:function(e){return n({menuId:e})}})),c.createElement("div",{className:b()({"nab-original-menu-alternative__existing-content":!0,"nab-original-menu-alternative__existing-content--is-disabled":a})},c.createElement(g.CheckboxControl,{label:(0,r._x)("Test against already-existing menus","command","nelio-ab-testing"),disabled:a,checked:!!t.testAgainstExistingMenu,onChange:i})))},alternative:function(e){var t=e.attributes,n=e.disabled,a=e.placeholder,i=void 0===a?(0,r._x)("Describe your variant…","user","nelio-ab-testing"):a,l=e.setAttributes,s=function(){var e;return!!(null===(e=X())||void 0===e?void 0:e.attributes.testAgainstExistingMenu)}();return(0,c.useEffect)((function(){l({isExistingMenu:!!s||void 0})}),[s]),s?c.createElement(c.Fragment,null,c.createElement(o.MenuSearcher,{disabled:n,value:t.menuId,onChange:function(e){return l({menuId:e})},placeholder:(0,r._x)("Select variant…","user","nelio-ab-testing")}),!!t.unableToCreateVariant&&c.createElement(Q,null)):c.createElement(c.Fragment,null,c.createElement(g.TextControl,{disabled:n,value:t.name,onChange:function(e){return l({name:e})},placeholder:i}),!!t.unableToCreateVariant&&c.createElement(Q,null))}}};function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},te.apply(null,arguments)}var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)},ae=function(e){var t=e.attributes,n=e.disabled,a=e.placeholder,i=void 0===a?(0,r._x)("Describe your variant…","user","nelio-ab-testing"):a,l=e.setAttributes,s=re(),u=oe();return(0,c.useEffect)((function(){l({isExistingContent:!!s||void 0})}),[s]),s?c.createElement(c.Fragment,null,c.createElement(o.PostSearcher,{disabled:n||!u,type:u||"post",value:t.postId,perPage:10,onChange:function(e){return l({postId:e})},placeholder:(0,r._x)("Select variant…","user","nelio-ab-testing")}),!!t.unableToCreateVariant&&c.createElement(ie,null)):c.createElement(c.Fragment,null,c.createElement(g.TextControl,{disabled:n,value:t.name,onChange:function(e){return l({name:e})},placeholder:i}),!!t.unableToCreateVariant&&c.createElement(ie,null))},ie=function(){return c.createElement("p",{className:"nab-alternative-post-error"},c.createElement(g.Dashicon,{icon:"warning"})," ",(0,r._x)("Something went wrong and this variant could not be properly created. Please reset it and save the test again to see if that fixes the issue. If it doesn’t, please get in touch with support.","user","nelio-ab-testing"))},re=function(){var e;return!!(null===(e=le())||void 0===e?void 0:e.attributes.testAgainstExistingContent)},oe=function(){var e;return null===(e=le())||void 0===e?void 0:e.attributes.postType},le=function(){return m((function(e){return e("nab/editor").getAlternative("control")}))},se={name:"nab/page",category:"page",title:(0,r._x)("Page","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a page","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M74.155 39.06V3.852l35.208 35.208z",style:{fill:"#f6a097"}}),l.createElement("path",{d:"M19.742 3.852h54.69v34.931h34.931v86.698H19.742z",style:{fill:"#ef5848"}}))},supports:{alternativeApplication:function(e){return!(null==e?void 0:e.testAgainstExistingContent)},alternativeEdition:{type:"external",enabled:function(e){return!e.testAgainstExistingContent}},postTypes:"page",scope:"tested-post-with-consistency"},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the page you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t,n){return!(!n.testAgainstExistingContent||e.postId)&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a page in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e,t){return!!t.testAgainstExistingContent&&!e.postId}},help:{original:(0,r._x)("Page split tests help you to improve the conversion rate of your WordPress site by creating one or more variants of your pages. The control version (commonly known as the “A” version) is the already-existing page from your site (such as, for instance, the home page or a contact us page) you want to run the test on.","user","nelio-ab-testing"),alternative:(0,r._x)("You can create one or more variants of your tested page. By default, each variant you create will be an exact copy of the tested page. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing page.","user","nelio-ab-testing")},defaults:{original:{postType:"page",postId:0},alternative:{name:"",postId:0}},views:{original:function(e){return c.createElement(M,ne({},e,{validPostFilter:function(e){return"page-for-posts"!==e.extra.specialPostType}}))},alternative:ae}};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce.apply(null,arguments)}var ue={name:"nab/post",category:"page",title:(0,r._x)("Post","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a post","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M122.226 47.15 81.116 6.023q-3.195 3.14-4.768 6.935-1.566 3.796-1.568 7.764c0 2.608.521 5.176 1.58 7.706L50.7 54.067a30.1 30.1 0 0 0-13.83-3.373q-5.665.001-10.962 2.053c-3.532 1.372-6.685 3.432-9.46 6.193l21.866 21.807s9.407 9.316 9.264 9.267l21.73 21.788q4.16-4.16 6.202-9.46A30.2 30.2 0 0 0 77.55 91.4a30 30 0 0 0-.836-7.108 29.7 29.7 0 0 0-2.53-6.742L99.82 51.91q3.796 1.562 7.705 1.56 3.989.001 7.774-1.57c2.523-1.042 4.832-2.63 6.926-4.747z",style:{fill:"#f19c00"}}),l.createElement("path",{d:"M38.483 80.617 24.522 96.674l-10.53 12.769-6.671 8.862c-1.548 2.286-2.336 3.806-2.336 4.527l-.048.288.138.048v.233l.095-.137.233.048c.727 0 2.241-.769 4.527-2.288l8.862-6.623 12.77-10.577 16.153-13.96-9.243-9.244z",style:{fill:"#f19c00"}}))},supports:{alternativeApplication:function(e){return!(null==e?void 0:e.testAgainstExistingContent)},alternativeEdition:{type:"external",enabled:function(e){return!e.testAgainstExistingContent}},postTypes:"post",scope:"tested-post-with-consistency"},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the post you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t,n){return!(!n.testAgainstExistingContent||e.postId)&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a post in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e,t){return!!t.testAgainstExistingContent&&!e.postId}},help:{original:(0,r._x)("Post split tests help you to improve the conversion rate of your WordPress blog by creating one or more variants of your posts. The control version (commonly known as the “A” version) is the already-existing post from your blog you want to run the test on.","user","nelio-ab-testing"),alternative:(0,r._x)("You can create one or more variants of your tested post. By default, each variant you create will be an exact copy of the tested post. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing post.","user","nelio-ab-testing")},defaults:{original:{postType:"post",postId:0},alternative:{name:"",postId:0}},views:{original:M,alternative:ae}};function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pe.apply(null,arguments)}var de=function(){return de=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},de.apply(this,arguments)},ge=function(e){return"postType"in e&&!(0,y.isEmpty)(e.postType)},ve=function(e){return"context"in e&&!(0,y.isEmpty)(e.context)},me="nab/editor",fe={name:"nab/template",category:"global",title:(0,r._x)("Template","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test different templates on your site","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",pe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M74.155 39.06V3.852l35.208 35.208z",style:{fill:"#b6ccf9"}}),l.createElement("path",{d:"M19.742 3.852V125.48h89.621V38.783H74.432V3.852zm49.404 48.455h.057q1.341-.001 2.168 1.054.798 1.14.371 2.452L60.25 91.145q-.57 1.882-2.566 1.882h-.086q-1.37.001-2.139-1.054-.77-1.027-.371-2.397L66.58 54.188q.627-1.882 2.566-1.881M50.871 59.32q1.37.057 2.281.998.942.914.942 2.282 0 2.167-2.026 3.023l-17.423 7.072 17.423 7.073q2.025.827 2.026 3.023 0 1.454-.942 2.395-.912.94-2.28.941-.63 0-1.284-.314l-21.559-9.268q-2.51-1.083-2.51-3.793 0-2.766 2.51-3.85l21.559-9.324q.656-.314 1.283-.258m26.264 0q.656-.056 1.283.258l21.559 9.324q2.48 1.084 2.48 3.85 0 2.709-2.48 3.793l-21.559 9.267a2.84 2.84 0 0 1-1.283.315q-1.312 0-2.252-.941-.942-1.055-.998-2.395 0-2.196 2.052-3.023l17.368-7.073-17.368-7.072q-2.052-.856-2.052-3.023.056-1.369.998-2.282a3.29 3.29 0 0 1 2.252-.998",style:{fill:"#487fef"}}))},supports:{presetAlternatives:function(e,t){var n=(0,e(p.store).getTemplates)();return!!n&&("nab-check-availability"===t?(0,h.values)(n).some((function(e){return 2<=e.length})):(n[t]||[]).map((function(e){return{value:e.id,label:e.name}})))}},checks:{getControlError:function(e){return!e.templateId&&(0,r._x)("Please select the template you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t){return!e.templateId&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a template in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e){return!e.templateId}},help:{original:(0,r._x)("Split tests of page templates help you to improve the conversion rate of your site by switching the appearance of the post types that use a certain template. The control version (commonly known as the “A” version) are those elements that use the specified template.","user","nelio-ab-testing"),alternative:(0,r._x)("You can test the selected template against one or more alternative templates from those available in your WordPress site.","user","nelio-ab-testing")},defaults:{original:{postType:"",name:""},alternative:{name:""}},views:{original:function(e){var t,n,a,i=e.experimentType,l=e.attributes,s=e.setAttributes,u=l.templateId,d=l.name,v=m((function(e){return e(p.store).getTemplates()})),f=m((function(e){return e(p.store).getTemplateContexts()})),b=Object.keys(f).map((function(e){var t,n;return Object.values(null!==(n=null===(t=f[e])||void 0===t?void 0:t.contexts)&&void 0!==n?n:{}).map((function(t){return{label:t.label,name:"".concat(e,":").concat(t.name)}}))})).flatMap((function(e){return e})).filter((function(e){var t;return null===(t=v[e.name])||void 0===t?void 0:t.length})),h=u,x=(a=ge(l)?"wp:".concat(l.postType):ve(l)?"".concat(l.builder,":").concat(l.context):null===(t=b[0])||void 0===t?void 0:t.name)?v[a]:[],E=function(e){return e.startsWith("wp:")?{builder:"",context:"",templateId:void 0,postType:e.split(":")[1],name:""}:{postType:"",templateId:void 0,builder:e.split(":")[0],context:e.split(":")[1],name:""}};return c.createElement("div",{className:"nab-template-original-alternative"},c.createElement(g.SelectControl,{value:a,disabled:!!u||(0,y.isEmpty)(b),onChange:function(e){return s(E(e))}},Object.keys(f).filter((function(e){var t,n;return Object.keys(null!==(n=null===(t=f[e])||void 0===t?void 0:t.contexts)&&void 0!==n?n:{}).some((function(t){var n;return null===(n=v["".concat(e,":").concat(t)])||void 0===n?void 0:n.length}))})).map((function(e,t){var n,a,i;return c.createElement("optgroup",{key:t,label:null===(n=f[e])||void 0===n?void 0:n.label},Object.keys(null!==(i=null===(a=f[e])||void 0===a?void 0:a.contexts)&&void 0!==i?i:{}).filter((function(t){var n;return null===(n=v["".concat(e,":").concat(t)])||void 0===n?void 0:n.length})).map((function(t,n){var a,i,r,o;return c.createElement("option",{key:n,value:"".concat(e,":").concat(null===(i=null===(a=f[e])||void 0===a?void 0:a.contexts[t])||void 0===i?void 0:i.name)},null===(o=null===(r=f[e])||void 0===r?void 0:r.contexts[t])||void 0===o?void 0:o.label)})))}))),c.createElement(o.PresetAlternative,{experimentType:i,collection:a,value:h,onChange:function(e){var t;e&&a&&s(de(de({},E(a)),{templateId:e.value,name:null!==(t=null==e?void 0:e.label)&&void 0!==t?t:(0,r._x)("Unnamed template","text","nelio-ab-testing")}))},additionalValues:{before:"_nab_front_page_template"!==h||(null===(n=v["wp:page"])||void 0===n?void 0:n.some((function(e){return"_nab_front_page_template"===e.id})))?void 0:[{value:"_nab_front_page_template",label:(0,r.sprintf)(/* translators: template name */ /* translators: template name */
(0,r._x)("Front Page template (%s)","text","nelio-ab-testing"),"front-page.php")}]},disabled:(0,y.isEmpty)(x),labels:{selection:d,selectAction:(0,r._x)("Select a template…","user","nelio-ab-testing"),loading:(0,r._x)("Loading templates…","text","nelio-ab-testing"),empty:(0,r._x)("No templates available","text","nelio-ab-testing"),unknownOption:(0,r._x)("Template not found","text","nelio-ab-testing")}}))},alternative:function(e){var t=e.attributes,n=t.templateId,a=t.name,i=e.disabled,l=e.experimentType,s=e.setAttributes,u=m((function(e){var t=(0,e(me).getAlternative)("control");if(null==t?void 0:t.attributes)return ge(t.attributes)?"wp:".concat(t.attributes.postType):ve(t.attributes)?"".concat(t.attributes.builder,":").concat(t.attributes.context):void 0})),p=m((function(e){var t,n,a=(0,e(me).getAlternative)("control");return{id:null!==(t=null==a?void 0:a.attributes.templateId)&&void 0!==t?t:"",name:null!==(n=null==a?void 0:a.attributes.name)&&void 0!==n?n:""}})),d=p.id,v=p.name,f=(0,c.useState)(d),b=f[0],h=f[1];return(0,c.useEffect)((function(){b!==d&&(h(d),"_nab_front_page_template"===d?s({name:"",templateId:""}):n&&"_nab_front_page_template"!==b||s({name:v,templateId:d}))}),[d,b,n]),"_nab_front_page_template"===d?c.createElement(g.TextControl,{placeholder:(0,r.sprintf)(/* translators: file name */ /* translators: file name */
(0,r._x)("Type in the file name of your template… (e.g. %s)","user","nelio-ab-testing"),"front-page-b.php"),value:null!=n?n:"",onChange:function(e){return s({templateId:e,name:e})}}):c.createElement(o.PresetAlternative,{experimentType:l,collection:u,value:n,onChange:function(e){return e?s({templateId:e.value,name:e.label}):void 0},disabled:i,exclusions:"wp:page"===u?["_nab_front_page_template"]:void 0,labels:{selection:a,selectAction:(0,r._x)("Please select a template…","user","nelio-ab-testing"),loading:(0,r._x)("Loading templates…","text","nelio-ab-testing"),empty:(0,r._x)("No templates available","text","nelio-ab-testing"),unknownOption:(0,r._x)("Template not found","text","nelio-ab-testing")}})}}};function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},be.apply(null,arguments)}var he={name:"nab/theme",category:"global",title:(0,r._x)("Theme","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test different themes on your site","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",be({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M15.353 4.937v118.917h97.346V4.937zm10.73 14.803h75.885v17.224H26.083zm25.974 25.038h49.911v64.273h-49.91zm-25.975.054h19.37v16.124h-19.37zm0 24.048h19.37v16.124h-19.37zm0 24.048h19.37v16.123h-19.37z",style:{fill:"#61b8dd"}}))},supports:{alternativeApplication:!0,scope:"urls",presetAlternatives:function(e,t){var n=(0,e(p.store).getThemes)();return!!n&&("nab-check-availability"===t||n.map((function(e){return{value:e.id,label:e.name}})))}},checks:{getControlError:function(){return!1},getAlternativeError:function(e,t){return!e.themeId&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a theme in variant %s","user","nelio-ab-testing"),t)},isAlternativePreviewDisabled:function(e){return!e.themeId}},help:{original:(0,r._x)("Split tests of WordPress themes help you to improve the conversion rate of your site by showing different themes to different visitors. The control version (commonly known as the “A” version) uses your current theme.","user","nelio-ab-testing"),alternative:(0,r._x)("You can test your active theme against one or more alternative themes from those installed in your WordPress site.","user","nelio-ab-testing")},defaults:{original:{},alternative:{name:"",themeId:""}},views:{original:function(){return c.createElement("p",{className:"nab-theme-original-version"},(0,r._x)("Active Theme","text","nelio-ab-testing"))},alternative:function(e){var t=e.attributes,n=t.themeId,a=t.name,i=e.disabled,l=e.experimentType,s=e.setAttributes;return c.createElement(o.PresetAlternative,{experimentType:l,value:n,onChange:function(e){return e?s({themeId:e.value,name:e.label}):void 0},disabled:i,labels:{selection:a,selectAction:(0,r._x)("Please select a theme…","user","nelio-ab-testing"),loading:(0,r._x)("Loading themes…","text","nelio-ab-testing"),empty:(0,r._x)("No themes available","text","nelio-ab-testing"),unknownOption:(0,r._x)("Theme not found","text","nelio-ab-testing")}})}}};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ye.apply(null,arguments)}function xe(e,t){return t?(0,r._x)("Loading compatible post types…","text","nelio-ab-testing"):(0,y.isEmpty)(e)?(0,r._x)("There are no compatible post types to select.","text","nelio-ab-testing"):(null==e?void 0:e.length)>1?(0,r._x)("First select the post type and then the actual content…","user","nelio-ab-testing"):void 0}var Ee=function(){return m((function(e){return e("nab/editor").getAlternative("control")}))},we={name:"nab/popup",category:"global",title:(0,r._x)("Popups","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of your popups","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",ye({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M29.396 18.287a16.19 16.19 0 0 0-16.224 16.227v51.54a16.19 16.19 0 0 0 16.224 16.226H50.91l5.652 9.793 8.333 14.43 8.33-14.43 5.653-9.793h21.515a16.19 16.19 0 0 0 16.224-16.226v-51.54a16.19 16.19 0 0 0-16.224-16.227z",style:{fill:"#ff9348"}}),l.createElement("path",{d:"m70.831 39.9-1.23 23.784q-.16 1.866-1.43 3.097-1.39 1.23-3.256 1.23t-3.296-1.23q-1.31-1.231-1.43-3.097l-1.23-23.785q-.08-2.025 1.31-3.454 1.31-1.43 3.335-1.47h2.581q2.025 0 3.336 1.47 1.469 1.43 1.31 3.454M69.68 84.251q-1.867 2.025-4.725 2.025-2.82 0-4.845-1.985t-2.025-4.765 2.025-4.805q2.025-2.065 4.845-2.065t4.725 2.026q2.025 1.945 2.025 4.804 0 2.82-2.025 4.765",style:{fill:"#fff"}}))},supports:{postTypes:["nab_elementor_popup","nelio_popup"]},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the popup you want to test","user","nelio-ab-testing")},getAlternativeError:function(e,t){return!e.postId&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please select a popup in variant %s","user","nelio-ab-testing"),t)}},help:{original:(0,r._x)("Split tests of popups help you to improve the conversion rate of your WordPress site by testing popups against each other. The control version (commonly known as the “A” version) is a popup you’re currently using on your site.","user","nelio-ab-testing"),alternative:(0,r._x)("You can select one or more alternative popups to test them against your control popup.","user","nelio-ab-testing")},defaults:{original:{postType:"",postId:0},alternative:{postId:0}},views:{original:function(e){var t,n=e.attributes,a=e.setAttributes,r=e.validPostFilter,l=function(e){return m((function(t){var n=t(i.store),a=n.hasExperimentSupport,r=n.getExperimentSupport,o=t(p.store),l=o.getKindEntities,s=o.hasFinishedResolution,c=l()||[];if(c=c.filter((function(e){return"entity"===e.kind})),a(e,"postTypes")){var u=(0,h.castArray)(r(e,"postTypes"));return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return u.includes(t)})),showSinglePostType:1!==u.length,isLoadingPostTypes:!s("getKindEntities")}}if(a(e,"postTypeExceptions")){var d=(0,h.flow)((function(){return r(e,"postTypeExceptions")}),(function(e){return"function"==typeof e?e(t):e}),h.castArray)();return{postTypes:(0,h.filter)(c,(function(e){var t=e.name;return!d.includes(t)})),showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}return{postTypes:[],showSinglePostType:!0,isLoadingPostTypes:!s("getKindEntities")}}))}(e.experimentType),s=l.postTypes,u=l.showSinglePostType,d=l.isLoadingPostTypes,v=null===(t=s[0])||void 0===t?void 0:t.name,f=n.postType||v,b=s.map((function(e){return{value:e.name,label:e.labels.singular_name}}));return c.createElement("div",{className:"nab-original-popup-alternative"},c.createElement("div",{className:"nab-original-popup-alternative__selector"},u&&(0,y.isSingleton)(s)&&c.createElement("input",{type:"text",value:s[0].labels.singular_name,disabled:!0}),(0,y.isMultiArray)(s)&&c.createElement(g.SelectControl,{value:f,options:b,disabled:!!n.postId,onChange:function(e){return a({postId:void 0,postType:e})}}),c.createElement(o.PostSearcher,{disabled:(0,y.isEmpty)(s),type:f,value:n.postId,perPage:10,onChange:function(e){return a({postId:e,postType:f})},filter:r,placeholder:xe(s,d)})))},alternative:function(e){var t=e.attributes,n=e.disabled,a=e.setAttributes,i=function(){var e;return null===(e=Ee())||void 0===e?void 0:e.attributes.postType}();return c.createElement(o.PostSearcher,{disabled:n||!i,type:i||"post",value:t.postId,perPage:10,onChange:function(e){return a({postId:e})},placeholder:(0,r._x)("Select variant…","user","nelio-ab-testing")})}}};function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_e.apply(null,arguments)}function Te(e){return-1!==e.indexOf("?")&&(0,r._x)("Tested URLs should not contain query arguments","text","nelio-ab-testing")}var Pe="nab/editor",Ce={name:"nab/url",category:"page",title:(0,r._x)("URL","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative URLs","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",_e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M111.07 19.97c10.216 10.278 10.216 26.82 0 37.097l-9.305 9.243c-6.811 6.812-16.42 8.94-25.177 6.63l15.933-15.873 4.622-4.683 4.622-4.622c5.108-5.108 5.108-13.379 0-18.487a12.96 12.96 0 0 0-18.487 0l-4.683 4.622L58.04 54.452c-2.25-8.758-.122-18.366 6.69-25.177l9.243-9.305c10.278-10.217 26.88-10.217 37.097 0M55.425 84.86l32.474-32.475a6.533 6.533 0 0 0 0-9.244c-2.675-2.615-6.872-2.371-9.304 0L46.18 75.615a6.533 6.533 0 0 0 0 9.244c2.676 2.615 6.872 2.371 9.244 0zm-4.622 13.926L75.98 73.547c2.31 8.758.182 18.366-6.629 25.177l-9.244 9.305c-10.277 10.217-26.819 10.217-37.096 0-10.217-10.217-10.217-26.88 0-37.097l9.304-9.243c6.812-6.812 16.42-8.94 25.177-6.69L32.315 80.237c-5.169 5.108-5.169 13.379 0 18.548 5.109 5.108 13.38 5.108 18.488 0z",style:{fill:"#ff00a9"}}))},supports:{scope:"tested-url-with-query-args"},checks:{getControlError:function(e,t){var n=t(p.store).getPluginSetting("homeUrl");return Ae("A",(0,y.getLocalUrlError)(e.url,n)||Te(e.url))},getAlternativeError:function(e,t,n,a){var i=a(p.store).getPluginSetting("homeUrl");return Ae(t,(0,y.getLocalUrlError)(e.url,i)||Te(e.url))},isAlternativePreviewDisabled:function(e,t,n){return!!Ce.checks.getAlternativeError(e,"",t,n)}},help:{original:(0,r._x)("URL split tests help you to improve the conversion rate of your WordPress site by defining one or more variants. The control version (commonly known as the “A” version) is the selected URL from your site (such as, for instance, the home page or a contact us page) you want to run the test on.","user","nelio-ab-testing"),alternative:(0,r._x)("You can create one or more variants of your tested URL. When the visitor visits the original URL, she may be redirected to one of the variants in the list.","user","nelio-ab-testing")},defaults:{original:{url:""},alternative:{url:""}},views:{original:function(e){var t=e.attributes,n=e.setAttributes,a=t.url,i=void 0===a?"":a,o=m((function(e){return e(p.store).getPluginSetting("homeUrl")})),l=(0,y.getLocalUrlError)(i,o),s=(0,v.useDispatch)(Pe).saveExperimentAndPreviewAlternative,u=m((function(e){return e(Pe).isExperimentBeingSaved()}));return c.createElement("div",null,c.createElement("div",{className:"nab-url-original-version"},c.createElement("div",{className:"nab-url-original-version__url"},c.createElement(g.TextControl,{className:"nab-url-original-version__url-value",value:i,onChange:function(e){return n({url:e})},placeholder:(0,r._x)("URL…","text","nelio-ab-testing")}),c.createElement("ul",{className:"nab-url-original-version__actions"},c.createElement("li",null,c.createElement(g.Button,{className:"nab-url-original-version__url-preview",variant:"link",disabled:!!l||u,onClick:function(){s("control")}},(0,r._x)("Preview","command","nelio-ab-testing")))))))},alternative:function(e){var t=e.attributes,n=e.setAttributes,a=t.url,i=void 0===a?"":a;return c.createElement("div",null,c.createElement("div",{className:"nab-url-alternative-version"},c.createElement("div",{className:"nab-url-alternative-version__url"},c.createElement(g.TextControl,{className:"nab-url-alternative-version__url-value",value:i,onChange:function(e){return n({url:e})},placeholder:(0,r._x)("URL…","text","nelio-ab-testing")}))))}}};function Ae(e,t){return!!t&&(0,r.sprintf)(/* translators: 1 -> letter of the variant, 2 -> error description */ /* translators: 1 -> letter of the variant, 2 -> error description */
(0,r._x)("There’s an error in variant %1$s. %2$s","text","nelio-ab-testing"),e,t)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ie.apply(null,arguments)}var Se={name:"nab/widget",category:"global",title:(0,r._x)("Widget","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative widget configurations on your site","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",Ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M63.5 102.276c-20.989 0-38.065-17.12-38.065-38.16s17.076-38.167 38.066-38.167c20.984 0 38.06 17.127 38.06 38.166 0 21.04-17.076 38.16-38.06 38.16m56.279-57.571s.982-.432-4.733-10.538c-5.704-10.107-6.562-9.466-6.562-9.466-11.055 3.646-16.875 4.008-16.875 4.008l.022.034a44.9 44.9 0 0 0-11.83-6.969h.306s-2.57-5.297-4.956-16.853c0 0 .112-1.065-11.356-1.065-11.484 0-11.362 1.065-11.362 1.065-2.18 10.582-4.52 15.9-4.9 16.725-.28.106-.563.201-.836.316-3.83 1.579-7.381 3.691-10.604 6.222l.045-.072s-5.803-.49-16.792-4.37c0 0-.841-.662-6.756 9.327-5.921 9.985-4.956 10.425-4.956 10.425 8.54 8.022 11.685 12.995 11.685 12.995l.039-.056a46.4 46.4 0 0 0-.664 7.677c0 2.28.173 4.521.497 6.718l-.023-.039s-3.244 4.906-11.952 12.745c0 0-.97.417 4.738 10.531 5.704 10.102 6.55 9.477 6.55 9.477 11.078-3.658 16.887-4.013 16.887-4.013l-.022-.05a44.7 44.7 0 0 0 11.841 6.986h-.318s2.576 5.296 4.957 16.853c0 0-.129 1.065 11.356 1.065 11.473 0 11.356-1.065 11.356-1.065 2.18-10.57 4.515-15.894 4.906-16.72a44.9 44.9 0 0 0 11.428-6.516l-.039.044s5.804.475 16.792 4.376c0 0 .836.648 6.768-9.333 5.91-9.99 4.95-10.425 4.95-10.425-8.546-8.028-11.685-12.995-11.685-12.995l-.033.04c.423-2.493.641-5.057.641-7.678a47 47 0 0 0-.467-6.69l.011.023s3.245-4.905 11.947-12.739",style:{fill:"#2a508d"}}),l.createElement("path",{d:"M63.502 84.018c-11.451 0-20.733-9.298-20.733-20.783 0-11.479 9.282-20.79 20.733-20.79 11.456 0 20.733 9.31 20.733 20.79 0 11.484-9.277 20.783-20.733 20.783m0-54.428c-18.503 0-33.556 15.097-33.556 33.645 0 18.553 15.053 33.65 33.556 33.65 18.497 0 33.55-15.097 33.55-33.65 0-18.548-15.053-33.645-33.55-33.645M35.394 98.647l-.023-.05",style:{fill:"#1e3863"}}))},supports:{alternativeApplication:!0,alternativeEdition:{type:"external"},scope:"urls"},checks:{getControlError:function(){return!1},getAlternativeError:function(){return!1},isTestTypeEnabled:function(e){return e(p.store).getPluginSetting("themeSupport").widgets}},help:{original:(0,r._x)("Widget split tests help you to improve the conversion rate of your WordPress site by changing the widgets you show on your sidebars (or widget areas). The control version (commonly known as the “A” version) is your current setup.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more variants of the widgets you use in your website. By default, each variant you create will be an exact copy of your control widgets. Click on the “Edit” link of each variant to modify its widgets.","user","nelio-ab-testing")},defaults:{original:{},alternative:{name:"",sidebars:[]}},views:{original:function(){return c.createElement("p",{className:"nab-widget-original-version"},(0,r._x)("Current Widget Set","text","nelio-ab-testing"))},alternative:o.DefaultAlternative}};function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ke.apply(null,arguments)}var Oe={name:"nab/php",category:"global",title:(0,r._x)("PHP","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Load alternative content writing PHP code","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",ke({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("circle",{cx:64,cy:64,r:60.302,style:{fill:"#777bb3"}}),l.createElement("path",{d:"m28.928 49.991-6.171 31.75h6.916l1.641-8.44h5.924q3.921 0 6.453-.825 2.532-.823 4.603-2.762a14.2 14.2 0 0 0 2.815-3.525q1.077-1.926 1.528-4.252 1.098-5.645-1.655-8.795-2.752-3.15-8.754-3.15zm5.942 5.01h4.739q3.941 0 5.254 1.456t.626 4.995q-.718 3.685-2.764 5.262-2.048 1.576-6.23 1.576h-4.208zM58.371 41.55l-6.17 31.75h6.861l3.535-18.19h5.484q2.634 0 3.443.873.81.872.343 3.27L69.137 73.3h6.97l2.872-14.774q.876-4.509-1.314-6.522t-7.96-2.013h-6.113l1.641-8.44zM82.912 49.991l-6.171 31.75h6.916l1.64-8.44h5.925q3.92 0 6.453-.825 2.532-.823 4.603-2.762a14.2 14.2 0 0 0 2.815-3.525q1.076-1.926 1.528-4.252 1.098-5.645-1.655-8.795-2.752-3.15-8.754-3.15zm5.942 5.01h4.738q3.942 0 5.255 1.456t.625 4.995q-.716 3.685-2.763 5.262-2.048 1.576-6.23 1.576H86.27z",style:{fill:"#fff"}}))},supports:{alternativeEdition:{type:"external"},alternativePreviewDialog:function(e){var t=e.attributes.snippet;return c.createElement(o.CodeEditor,{className:"nab-php-value-preview",language:"php",before:"<?php",value:t,readOnly:!0})},scope:"urls-or-php"},checks:{getControlError:function(){return!1},getAlternativeError:function(e,t){return!!e.errorMessage&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please review and fix the code in variant %s","user","nelio-ab-testing"),t)}},help:{original:(0,r._x)("PHP split tests help you to improve the conversion rate of your WordPress site. The control version (commonly known as the “A” version) is how your site currently looks.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more PHP snippets that will run during the plugins_loaded action (or the action you selected in the test scope). This way, you’ll be able to hook into WordPress actions and filters and change the content of pages in the test scope.","user","nelio-ab-testing")},defaults:{original:{},alternative:{name:"",snippet:""}},views:{original:function(){return c.createElement("p",{className:"nab-php-original-version"},(0,r._x)("Current appearance with no extra changes","text","nelio-ab-testing"))},alternative:o.DefaultAlternative}};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(null,arguments)}var Me={name:"nab/wc-product",category:"woocommerce",title:(0,r._x)("WooCommerce Product","text (experiment name)","nelio-ab-testing"),shortTitle:(0,r._x)("Product","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Test alternative versions of a product name, price, featured image, and short description","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M13.815 24.783v14.143h100.37V24.783ZM19.4 43.03v60.188h89.204V43.029Zm27.87 8.205h33.464v6.504H47.27Z",style:{fill:"#2a508d"}}))},supports:{alternativeApplication:!0,alternativeEdition:{type:"external"},automaticGoalSetup:function(e){return[(0,C.createConversionAction)("nab/wc-order",{type:"product-selection",value:{type:"some-products",value:{type:"product-ids",mode:"and",productIds:e.postId?[e.postId]:[]}}})]},postTypes:"product",scope:"tested-product-with-consistency"},checks:{getControlError:function(e){return!e.postId&&(0,r._x)("Please select the product you want to test","user","nelio-ab-testing")},getAlternativeError:function(){return!1},isTestTypeEnabled:function(e){return e(p.store).getActivePlugins().includes("woocommerce/woocommerce.php")}},help:{original:(0,r._x)("Product split tests help you to improve the interest your customers show in your products by creating one or more variants of the name, pricing, short description, and image of a WooCommerce Product. The control version (commonly known as the “A” version) is the already-existing product you want to test.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create and edit one or more variants of your tested product. By default, each variant you create will use the product’s current values.","user","nelio-ab-testing")},defaults:{original:{postId:0,postType:"product"},alternative:{name:"",postId:0}},views:{original:function(e){var t=e.attributes,n=e.setAttributes,a=e.validPostFilter,i=m((function(e){var t;return"tested-post"!==(null===(t=e("nab/editor").getScope()[0])||void 0===t?void 0:t.attributes.type)}));return c.createElement("div",{className:"nab-original-product-alternative"},c.createElement("div",{className:"nab-original-product-alternative__selector"},c.createElement(o.PostSearcher,{type:"product",value:t.postId,perPage:10,onChange:function(e){return n({postId:e,postType:"product"})},filter:a,placeholder:(0,r._x)("Please select a product…","user","nelio-ab-testing")})),c.createElement("div",{className:"nab-original-product-alternative__flags"},c.createElement(g.CheckboxControl,{className:b()({"nab-original-product-alternative__flag":!0,"nab-original-product-alternative__flag--is-disabled":!i}),checked:i&&!t.disablePriceTesting,disabled:!i,onChange:function(e){return n({disablePriceTesting:!e||void 0})},label:(0,r._x)("Enable price testing","command","nelio-ab-testing")})))},alternative:o.DefaultAlternative}};function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ne.apply(null,arguments)}const He=window.wp.coreData;var Le=function(){return Le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Le.apply(this,arguments)},qe=function(){return Be("product_cat")},ze=function(){return Be("product_tag")},Be=function(e){return m((function(t){var n=t(He.store).getEntityRecords("taxonomy",e,{per_page:-1}),a=t(He.store).isResolving("getEntityRecords",["taxonomy",e,{per_page:-1}]);return n&&!a?n.map(Ue):void 0}))},De=document.createElement("div"),Ue=function(e){var t;return De.innerHTML=e.name,Le(Le({},e),{name:null!==(t=De.textContent)&&void 0!==t?t:e.name})},We=function(){return We=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)},Fe={productSelections:[{type:"all-products"}]},Re=function(e){var t=e.categories,n=e.tags,a=e.setCategories,i=e.setTags,r=Ze(t,n),l=m((function(e){var t,n=e(He.store).getEntityRecord("root","taxonomy","product_cat");return null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"Product categories"})),s=qe(),u=m((function(e){var t,n=e(He.store).getEntityRecord("root","taxonomy","product_tag");return null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"Product tags"})),p=ze();return c.createElement(c.Fragment,null,c.createElement("div",{className:"nab-woocommerce-bulk-sale-original__product-filters"},c.createElement("div",null,c.createElement(o.ItemSelectControl,{label:l,kind:"taxonomy",name:"product_cat",disabled:!(null==s?void 0:s.length),value:t,onChange:a})),c.createElement("div",null,c.createElement(o.ItemSelectControl,{label:u,kind:"taxonomy",name:"product_tag",disabled:!(null==p?void 0:p.length),value:n,onChange:i}))),c.createElement("p",{className:"nab-woocommerce-bulk-sale-original__explanation"},r))},Ve=function(e){var t=e.selection,n=e.cats,a=e.tags,i="some-products"===t.type&&"product-taxonomies"===t.value.type?t.value.value:[],r=We(We({type:"product-terms",taxonomy:"product_cat",mode:"or",termIds:[]},(0,h.find)(i,{taxonomy:"product_cat"})),n?{termIds:n}:{}),o=We(We({type:"product-terms",taxonomy:"product_tag",mode:"or",termIds:[]},(0,h.find)(i,{taxonomy:"product_tag"})),a?{termIds:a}:{});return r.termIds.length||o.termIds.length?{productSelections:[{type:"some-products",value:{type:"product-taxonomies",value:[!!r.termIds.length&&r,!!o.termIds.length&&o].filter((function(e){return!!e}))}}]}:Fe},Ze=function(e,t){var n=qe(),a=function(e){var t;return(null===(t=(0,h.find)(n,{id:e}))||void 0===t?void 0:t.name)||"#".concat(e)},i=ze(),o=function(e){var t;return(null===(t=(0,h.find)(i,{id:e}))||void 0===t?void 0:t.name)||"#".concat(e)};return(null==e?void 0:e.length)&&(null==t?void 0:t.length)?Ke((0,r.sprintf)(/* translators: 1 -> list of category names, 2 -> list of tag names */ /* translators: 1 -> list of category names, 2 -> list of tag names */
(0,r._x)("This test applies to products in category %1$s and tagged as %2$s.","text","nelio-ab-testing"),(0,y.listify)("or",(0,h.map)((0,h.map)(e,a),Ye)),(0,y.listify)("or",(0,h.map)((0,h.map)(t,o),Ye)))):(null==e?void 0:e.length)?Ke((0,r.sprintf)(/* translators: list of category names */ /* translators: list of category names */
(0,r._x)("This test applies to products in category %s.","text","nelio-ab-testing"),(0,y.listify)("or",(0,h.map)((0,h.map)(e,a),Ye)))):(null==t?void 0:t.length)?Ke((0,r.sprintf)(/* translators: list of tag names */ /* translators: list of tag names */
(0,r._x)("This test applies to products tagged as %s.","text","nelio-ab-testing"),(0,y.listify)("or",(0,h.map)((0,h.map)(t,o),Ye)))):c.createElement(c.Fragment,null,(0,r._x)("This test applies to all products in your store.","text","nelio-ab-testing"))},Ke=function(e){return(0,c.createInterpolateElement)(e,{em:c.createElement("em",null),strong:c.createElement("strong",null)})},Ye=function(e){return"<strong>".concat(e,"</strong>")},Je=function(e){return(0,r.sprintf)(/* translators: 1 -> discount percentage */ /* translators: 1 -> discount percentage */
(0,r._x)("%1$d%% discount","text","nelio-ab-testing"),e)},$e={name:"nab/wc-bulk-sale",category:"woocommerce",title:(0,r._x)("WooCommerce Bulk Sale","text (experiment name)","nelio-ab-testing"),shortTitle:(0,r._x)("Bulk Sale","text (experiment name)","nelio-ab-testing"),description:(0,r._x)("Apply a discount to all your (selected) products.","user","nelio-ab-testing"),icon:function(e){return l.createElement("svg",Ne({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),l.createElement("path",{d:"M73.466 11.33 42.333 42.463 11.2 73.6l21.531 21.535c11.843 11.845 21.765 21.535 22.051 21.535s14.358-13.834 31.27-30.744L116.8 55.18V11.329H95.132Zm18.683 12.485c1.914 0 3.83.314 5.211.942 4.116 1.87 7.504 7.054 7.504 11.48s-3.388 9.611-7.504 11.48c-1.287.586-3.298.952-5.21.952-4.028 0-6.719-1.24-9.462-4.356-2.794-3.174-3.711-6.757-2.787-10.888.759-3.39 3.878-7.232 7.04-8.668 1.382-.628 3.295-.942 5.208-.942M58.163 52.827l6.711 32.207-2.844 2.844-6.754-32.164zm11.041 5.953q.34.006.684.055 2.734.388 5.8 3.453 3.012 3.01 3.356 5.842.346 2.83-2.057 5.234-2.43 2.43-5.234 2.084-2.804-.345-5.842-3.383-3.094-3.093-3.453-5.828-.373-2.748 2.195-5.316 2.175-2.175 4.551-2.14m-.705 3.604q-.953-.104-1.719.664-1.105 1.104-.58 2.484.54 1.369 2.707 3.537 2.209 2.209 3.563 2.678 1.34.456 2.377-.58 1.007-1.008.51-2.389t-2.637-3.521q-2.197-2.197-3.565-2.707a2.6 2.6 0 0 0-.656-.166m-20.756 2.81q.34.002.684.05 2.762.359 5.828 3.425 3.01 3.01 3.355 5.87.345 2.83-2.086 5.26-2.403 2.404-5.207 2.057-2.817-.358-5.855-3.396-3.135-3.135-3.467-5.842-.344-2.72 2.211-5.275 2.163-2.163 4.537-2.149m-.678 3.625q-.952-.103-1.718.664-1.105 1.105-.594 2.471.496 1.354 2.678 3.537 2.182 2.181 3.564 2.678 1.38.47 2.416-.565 1.023-1.022.512-2.39-.498-1.38-2.666-3.549t-3.535-2.68a2.6 2.6 0 0 0-.657-.166",style:{fill:"#2a508d"}}))},supports:{automaticGoalSetup:function(e){return e.productSelections.map((function(e){return(0,C.createConversionAction)("nab/wc-order",{type:"product-selection",value:e})}))},postTypes:"product"},checks:{getControlError:function(){return!1},getAlternativeError:function(e,t){return!Ge(e.discount)&&(0,r.sprintf)(/* translators: letter of the variant */ /* translators: letter of the variant */
(0,r._x)("Please set a valid discount percentage value (between 0 and 100) in variant %s","user","nelio-ab-testing"),t)},isTestTypeEnabled:function(e){return e(p.store).getActivePlugins().includes("woocommerce/woocommerce.php")}},help:{original:(0,r._x)("This type of test lets you apply a bulk sale to all your (selected) products. The control version doesn’t apply any discount and simply shows the regular price of your selected products.","user","nelio-ab-testing"),alternative:(0,r._x)("Here you can create one or more bulk sale discounts that will apply to all your tested products.","user","nelio-ab-testing")},defaults:{original:{productSelections:[{type:"all-products"}]},alternative:{name:"",discount:20,overwritesExistingSalePrice:!0}},views:{original:function(e){var t,n,a,i=e.setAttributes,o=e.attributes.productSelections;(0,c.useEffect)((function(){o.length&&(0,y.hasHead)(o)&&"some-products"===o[0].type&&"product-taxonomies"===o[0].value.type?i(Ve({selection:o[0]})):i(Fe)}),[]);var l=null!==(t=o[0])&&void 0!==t?t:Fe.productSelections[0],s="some-products"===l.type&&"product-taxonomies"===l.value.type&&(null===(n=(0,h.find)(l.value.value,{taxonomy:"product_cat"}))||void 0===n?void 0:n.termIds)||[],u="some-products"===l.type&&"product-taxonomies"===l.value.type&&(null===(a=(0,h.find)(l.value.value,{taxonomy:"product_tag"}))||void 0===a?void 0:a.termIds)||[],p=(0,c.useState)(!!s.length||!!u.length),d=p[0],v=p[1];return c.createElement("div",null,c.createElement("p",{className:"nab-woocommerce-bulk-sale-original"},d?(0,r._x)("Selected Products","text","nelio-ab-testing"):(0,r._x)("All Products","text","nelio-ab-testing"),!d&&c.createElement("span",{className:"nab-woocommerce-bulk-sale-original__filter-action"},c.createElement(g.Button,{variant:"link",onClick:function(){return v(!0)}},(0,r._x)("Filter","command","nelio-ab-testing")))),d&&c.createElement(Re,{categories:s,tags:u,setCategories:function(e){return i(Ve({selection:l,cats:e}))},setTags:function(e){return i(Ve({selection:l,tags:e}))}}))},alternative:function(e){var t=e.attributes,n=e.disabled,a=e.setAttributes,i=t.name,o=t.overwritesExistingSalePrice,l=t.discount,s=(0,c.useState)("".concat(l)),u=s[0],p=s[1];return(0,c.useEffect)((function(){var e=Je(l);i!==e&&a({name:e})}),[l]),c.createElement(c.Fragment,null,c.createElement(g.TextControl,{label:(0,r._x)("Discount (%)","text","nelio-ab-testing"),disabled:n,value:u,type:"number",min:0,max:100,step:1,onChange:function(e){var t;e=e.replace(/[^0-9]/g,""),t=Number.parseInt(e),t=(t=(t=isNaN(t)?0:t)<0?0:t)>100?100:t,e=e.length?"".concat(t):"",p(e),a({discount:t,name:Je(t)})}}),c.createElement(g.CheckboxControl,{label:(0,r._x)("Overwrite existing sale prices (if any) when applying tested discount","command","nelio-ab-testing"),checked:!!o,onChange:function(e){return a({overwritesExistingSalePrice:e})}}))}}},Ge=function(e){return 0<=e&&e<=100},Qe=function(){[se,ue,P,R,Ce,Z,fe,he,we,Se,ee,u,J,Oe,Me,$e].forEach((function(e){e&&(0,i.registerExperimentType)(e.name,e)}))}},6942:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],r=e[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={8328:0,5573:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,o=n[0],l=n[1],s=n[2],c=0;if(o.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(s)var u=s(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self.webpackChunknab=self.webpackChunknab||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,[5573],(()=>a(6169)));i=a.O(i);var r=nab="undefined"==typeof nab?{}:nab;for(var o in i)r[o]=i[o];i.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();