(()=>{var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)},n={};(()=>{"use strict";const n=window.wp.element,t=window.wp.i18n,r=window.nab.data,o=window.nab.utils,a=window.wp.apiFetch;var i=e.n(a);const u=window.wp.date,l=window.wp.url;var c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c.apply(this,arguments)};var s=function(e){var n,t;return!!(null===(n=e.url)||void 0===n?void 0:n.includes("/wp-json/"))||!!(null===(t=e.url)||void 0===t?void 0:t.includes("rest_route"))||!!Object.keys(e).includes("rest_route")};const d=window.wp.components,m=window.nab.components;var p,f=function(e){var r=e.experiment,o=e.alternative,a=b(r,o),i=a[0],u=a[1],l=w(),c=l[0],s=l[1];return n.createElement(n.Fragment,null,n.createElement(d.Button,{className:"page-title-action",onClick:function(){return s(!0)},style:{height:"auto"}},(0,t._x)("Duplicate Control Menu","command","nelio-ab-testing")),n.createElement(m.ConfirmationDialog,{title:(0,t._x)("Duplicate Control Menu?","title","nelio-ab-testing"),text:(0,t._x)("This will overwrite the items in your menu variant using those included in the control menu. Are you sure you want to continue?","user","nelio-ab-testing"),confirmLabel:i?(0,t._x)("Duplicatingâ€¦","text (widgets)","nelio-ab-testing"):(0,t._x)("Duplicate","command","nelio-ab-testing"),isConfirmEnabled:!i,isCancelEnabled:!i,isOpen:c,onCancel:function(){return s(!1)},onConfirm:u}))},w=function(){return(0,r.usePageAttribute)("menus/isConfirmationDialogForMenuDuplicationVisible",!1)},b=function(e,t){var o=(0,r.usePageAttribute)("menus/isDuplicatingMenu",!1),a=o[0],d=o[1];return(0,n.useEffect)((function(){var n,r,o,d;a&&(n={path:(0,l.addQueryArgs)("/nab/v1/menu/duplicate-control",{experiment:e,alternative:t}),method:"PUT"},r=n.url,o=n.path,d=(0,u.format)("YmjHi").substring(0,11)+"0",i()(c(c(c({},n),r&&{url:s(n)?(0,l.addQueryArgs)(r,{nabts:d}):r}),o&&{path:(0,l.addQueryArgs)(o,{nabts:d})}))).finally((function(){window.location.reload()}))}),[a]),[a,function(){return d(!0)}]},v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},v.apply(this,arguments)};window.nab=v(v({},(p=window)&&"object"==typeof p&&"nab"in p?window.nab:{}),{initAlternativeEdition:function(e){var r;(r=document.querySelector("#wpbody-content .wrap .wp-heading-inline"))&&(r.textContent=(0,t._x)("Menu Variant","text","nelio-ab-testing")),Array.from(document.querySelectorAll("#message.updated.notice")).forEach((function(e){var n=(0,t._x)("<strong>Menu variant</strong> has been updated.","text","nelio-ab-testing");e.innerHTML="<p>".concat(n,"</p>")})),Array.from(document.querySelectorAll(".wrap > .page-title-action")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".wrap > .nav-tab-wrapper")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".wrap > .manage-menus")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll("#menu-name, .menu-name-label")).forEach((function(e){return e.style.display="none"})),Array.from(document.querySelectorAll("#nav-menu-footer .delete-action")).forEach((function(e){return e.remove()})),Array.from(document.querySelectorAll(".menu-settings")).forEach((function(e){return e.remove()})),function(e){var r,a,i=document.querySelector("#wpbody-content .wrap .wp-heading-inline"),u=document.createElement("span");r=n.createElement(f,{experiment:e.experiment,alternative:e.alternative}),(a=u)&&(n.createRoot?(0,n.createRoot)(a).render(r):(0,n.render)(r,a));var l=document.createElement("a");l.className="page-title-action",l.textContent=(0,t._x)("Back to Test","command","nelio-ab-testing"),l.setAttribute("href",e.links.experimentUrl),i&&((0,o.appendSibling)(l,i),(0,o.appendSibling)(u,i))}(e)}})})();var t=nab="undefined"==typeof nab?{}:nab;for(var r in n)t[r]=n[r];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();