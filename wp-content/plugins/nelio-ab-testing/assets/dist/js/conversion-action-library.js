(()=>{var e={6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{conversionActionLibrary:()=>p});var e={};n.r(e),n.d(e,{name:()=>L,settings:()=>R});var t={};n.r(t),n.d(t,{name:()=>H,settings:()=>D});var o={};n.r(o),n.d(o,{name:()=>re,settings:()=>oe});var a={};n.r(a),n.d(a,{name:()=>$e,settings:()=>Ne});var i={};n.r(i),n.d(i,{name:()=>De,settings:()=>We});var s={};n.r(s),n.d(s,{name:()=>ut,settings:()=>dt});var l={};n.r(l),n.d(l,{name:()=>Ut,settings:()=>Bt});var c={};n.r(c),n.d(c,{name:()=>Qt,settings:()=>Gt});var u={};n.r(u),n.d(u,{name:()=>vn,settings:()=>fn});var d={};n.r(d),n.d(d,{name:()=>hn,settings:()=>yn});var p={};n.r(p),n.d(p,{registerCoreConversionActions:()=>En});const m=window.nab.conversionActions,v=window.wp.i18n,f=window.React;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}const b=window.wp.element,x=window.wp.components,h=window.wp.compose,y=window.wp.data;function _(e,t){return(0,y.useSelect)(e,t)}var E=n(6942),w=n.n(E);const I=window.nab.components,C=window.nab.data;var A="nab/editor",O=function(e){var t=e.attributes,n=t.mode,r=t.value,o=e.scope,a=e.errors,i=e.experimentId,s=e.setAttributes,l=e.setScope,c=(0,h.useInstanceId)(O),u=P(),d=T(c),p=d[0],m=d[1],f=S(),g=(0,y.useDispatch)(A).saveExperiment,_="nab-click-action__value-".concat(c);return b.createElement(b.Fragment,null,b.createElement(x.SelectControl,{label:(0,v._x)("Matching Mode","text","nelio-ab-testing"),options:k,value:n,onChange:function(e){return s({mode:e})}}),b.createElement(x.BaseControl,{id:_,className:w()({"nab-conversion-action__field--has-errors":a.value}),label:F[n],help:b.createElement(I.ErrorText,{value:a.value})},b.createElement("div",{className:"nab-click-conversion-action"},b.createElement(x.TextControl,{id:_,className:"nab-click-conversion-action__value",value:r,onChange:function(e){return s({value:e})}}),b.createElement(x.Button,{variant:"secondary",className:"nab-click-conversion-action__button",onClick:function(){g().then((function(){return m(!0)}))}},"css"===n?(0,v._x)("Explore","command","nelio-ab-testing"):(0,v._x)("View","command","nelio-ab-testing")),p&&b.createElement(I.CssSelectorFinder,{initialUrl:f,experimentId:i,alternatives:u,initialValue:r,initialMode:n,onAccept:function(e,t){return s({mode:e,value:t})},onClose:function(){return m(!1)}}))),b.createElement(I.ConversionActionScope,{scope:o,setScope:l,error:a._scope}))},P=function(){return _((function(e){var t;return(null===(t=e(A))||void 0===t?void 0:t.getAlternatives())||[]}))},T=function(e){e="".concat(e);var t=(0,C.usePageAttribute)("css-selector/openedCssSelectorFinderId",""),n=t[0],r=t[1];return[n===e,function(t){return r(t?e:"")}]},S=function(){return _((function(e){var t=(0,e(C.store).getPluginSetting)("homeUrl");if(!e(A))return t;var n=(0,e(A).getAlternative)("control");if(!j(n))return t;var r=n.attributes,o=r.postType,a=r.postId;if(!o||!a)return t;var i=(0,e(C.store).getEntityRecord)(o,a);return(null==i?void 0:i.link)||t}))},F={id:(0,v._x)("Element ID","text","nelio-ab-testing"),class:(0,v._x)("CSS Class","text","nelio-ab-testing"),css:(0,v._x)("CSS Selector","text","nelio-ab-testing")},k=Object.keys(F).map((function(e){return e})).map((function(e){return{value:e,label:F[e]}})),j=function(e){var t,n;return!!(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.postType)&&!!(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.postId)},$=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$.apply(this,arguments)},N=function(e){var t=e.attributes,n=t.mode,r=t.value;if(!r)return b.createElement(b.Fragment,null,(0,v._x)("A visitor clicks on an HTML element.","text","nelio-ab-testing"));switch(n){case"css":return b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: a CSS selector, such as "a.button" */ /* translators: a CSS selector, such as "a.button" */
(0,v._x)("A visitor clicks on an element matching the CSS selector %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}));case"id":return b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: an HTML id, such as "content" */ /* translators: an HTML id, such as "content" */
(0,v._x)("A visitor clicks on the %s element","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}));case"class":return b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: an HTML id, such as "content" */ /* translators: an HTML id, such as "content" */
(0,v._x)("A visitor clicks on an element with class %s","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}))}},M=document.createElement("br"),L="nab/click",R={name:L,title:(0,v._x)("Click","text","nelio-ab-testing"),description:(0,v._x)("Counts a click as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M102.577 53.793 26.484 24.539a1.54 1.54 0 0 0-1.635.35l-.034.034a1.55 1.55 0 0 0-.35 1.635L53.72 102.65c.222.587.784.97 1.405.98a1.53 1.53 0 0 0 1.431-.946l9.291-22.33L79.362 93.87a2.23 2.23 0 0 0 3.15 0c3.11-3.108 8.168-8.167 11.276-11.275a2.23 2.23 0 0 0 0-3.151L80.29 65.929l22.33-9.292c.579-.238.953-.809.945-1.43a1.56 1.56 0 0 0-.988-1.414",className:"icon_svg__black",style:{fill:"#34a3d3"}}))},validate:function(e){var t=e.mode,n=e.value;if(!n)switch(t){case"css":return{value:(0,v._x)("Please write a CSS selector that matches the elements you want to track","user","nelio-ab-testing")};case"id":return{value:(0,v._x)("Please write the ID of the element you want to track","user","nelio-ab-testing")};case"class":return{value:(0,v._x)("Please write a class name of the element you want to track","user","nelio-ab-testing")}}switch(t){case"css":return function(e){try{M.querySelector(e)}catch(e){return{value:(0,v._x)("Please use a valid CSS selector. For instance, you can use a tag name such as “a” or “div,” a class selector such as “.some-class,” or more complex rules such as “section.content button.subscribe”","user","nelio-ab-testing")}}return{}}(n);case"id":return function(e){return/^#[a-zA-Z0-9-_]+$/.test(e)?{value:(0,v._x)("The ID of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}:/^[a-zA-Z0-9-_]+$/.test(e)?{}:{value:(0,v._x)("The ID of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}}(n);case"class":return function(e){return/^\.[a-zA-Z0-9-_]+$/.test(e)?{value:(0,v._x)("A class name of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}:/^[a-zA-Z0-9-_]+$/.test(e)?{}:{value:(0,v._x)("A class name of an element should only contain letters, numbers, hyphens, and underscores","text","nelio-ab-testing")}}(n)}},attributes:{mode:"css",value:""},scope:{type:"test-scope"},edit:O,view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(N,$({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}};function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}var V=function(){return V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},V.apply(this,arguments)},U=function(e){var t=e.attributes,n=t.mode,r=t.value;return b.createElement(b.Fragment,null,!r&&(0,v._x)("A visitor clicks on a link.","text","nelio-ab-testing"),r&&"partial"===n&&(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: some text that might appear in a URL, such as "wordpress", or "amazon", or "nelio" */ /* translators: some text that might appear in a URL, such as "wordpress", or "amazon", or "nelio" */
(0,v._x)("A visitor clicks on a link whose URL contains this fragment: %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}),r&&"start"===n&&(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: a URL fragment, such as "https://nelio" */ /* translators: a URL fragment, such as "https://nelio" */
(0,v._x)("A visitor clicks on a link whose URL starts with %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}),r&&"end"===n&&(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: a URL fragment, such as "neliosoftware.com/blog/" */ /* translators: a URL fragment, such as "neliosoftware.com/blog/" */
(0,v._x)("A visitor clicks on a link whose URL ends with %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}),r&&!["partial","start","end"].includes(n)&&(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: a URL such as "https://wordpress.org" */ /* translators: a URL such as "https://wordpress.org" */
(0,v._x)("A visitor clicks on a link with the URL %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)}))};const B=window.nab.utils;var H="nab/click-external-link",D={name:H,title:(0,v._x)("Click external link","text","nelio-ab-testing"),description:(0,v._x)("Counts a click to an external link as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"m68.339 14.883 44.778 44.778a6.123 6.123 0 0 1 0 8.678L68.34 113.117a6.123 6.123 0 0 1-8.678 0L14.883 68.34a6.123 6.123 0 0 1 0-8.678L59.66 14.883a6.123 6.123 0 0 1 8.678 0",className:"icon_svg__black",style:{opacity:1,strokeOpacity:1,fillOpacity:1,stroke:"none",strokeDasharray:"none",strokeMiterlimit:4,strokeWidth:32.581790506,fill:"#ffc304"}}),f.createElement("path",{d:"M49.179 54.37V89.93h9.46v-26.1h18.27V54.37h-27.73",className:"icon_svg__white",style:{fill:"#fff"}}),f.createElement("path",{d:"M73.553 71.129V47.072l20.833 12.029z",className:"icon_svg__white",style:{fill:"#fff"}}))},validate:function(e){var t=e.mode,n=e.value;if(!n)return{value:(0,v._x)("Please write the expected value","user","nelio-ab-testing")};if("regex"===t){var r=(0,B.isRegExpInvalid)(n);return r?{value:r}:{}}var o=(0,B.isUrlFragmentInvalid)(n);return o?{value:o}:{}},attributes:{mode:"exact",value:""},scope:{type:"test-scope"},edit:function(e){var t=e.attributes,n=t.mode,r=t.value,o=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope;return b.createElement(b.Fragment,null,b.createElement(x.SelectControl,{label:(0,v._x)("URL Matching Mode","text","nelio-ab-testing"),options:[{value:"exact",label:(0,v._x)("URL exactly matches the expected value","text","nelio-ab-testing")},{value:"partial",label:(0,v._x)("URL contains the expected value","text","nelio-ab-testing")},{value:"start",label:(0,v._x)("URL starts with the expected value","text","nelio-ab-testing")},{value:"end",label:(0,v._x)("URL ends with the expected value","text","nelio-ab-testing")},{value:"regex",label:(0,v._x)("JavaScript Regular Expression","text","nelio-ab-testing")}],value:n,onChange:function(e){return i({mode:e})}}),b.createElement(x.TextControl,{className:w()({"nab-conversion-action__field--has-errors":a.value}),label:(0,v._x)("Expected Value","text","nelio-ab-testing"),value:r,help:b.createElement(I.ErrorText,{value:a.value}),placeholder:(0,v._x)("URL","text","nelio-ab-testing"),onChange:function(e){return i({value:e})}}),b.createElement(I.ConversionActionScope,{scope:o,setScope:s,error:a._scope}))},view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(U,V({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}var Z={meta:{type:"problem",docs:{description:(0,v._x)("Ensure convert() is called","user","nelio-ab-testing")},messages:{missingConvert:(0,v._x)("The function convert() must be called at least once.","text","nelio-ab-testing")},schema:[]},defaultOptions:[],create:function(e){var t=!1;return{CallExpression:function(e){"Identifier"===e.callee.type&&"convert"===e.callee.name&&(t=!0)},"Program:exit":function(){t||e.report({loc:{line:1,column:0},messageId:"missingConvert"})}}}};function q(e){var t=e.matchBefore(/\w*/);return t&&(t.from!==t.to||e.explicit)?{from:t.from,options:[{label:"convert",type:"function",apply:"convert()",detail:"() => void",info:(0,v._x)("Triggers a conversion using the appropriate variant and goal settings.","text","nelio-ab-testing")}]}:null}var J=(0,v._x)("Write the logic for your conversion here and call “convert()” to actually trigger the conversion when necessary.","user","nelio-ab-testing")+" "+(0,v._x)("Please keep in mind the code will not run until the DOM’s ready.","user","nelio-ab-testing");const Y=window.lodash;var K,Q,G,X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X.apply(this,arguments)},ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},te=function(e){var t=e.attributes,n=t.snippet,r=ee(t,["snippet"]),o=ee(e,["attributes"]),a=(0,b.useState)(!1),i=a[0],s=a[1],l=_((function(e){var t=e(C.store).getPageAttribute("editor/activeExperiment");return t?e(C.store).getExperimentAttribute(t,"status"):void 0}));return r.eventName||void 0===n?b.createElement(ne,X({attributes:r},o)):"running"!==l&&"finished"!==l?b.createElement(b.Fragment,null,(0,v._x)("A conversion is programmatically sent to Nelio’s cloud via JavaScript.","text","nelio-ab-testing")):b.createElement(b.Fragment,null,(0,v._x)("A conversion is programmatically sent to Nelio’s cloud via JavaScript.","text","nelio-ab-testing")+" ",b.createElement(x.Button,{variant:"link",onClick:function(){return s(!0)}},(0,v._x)("View Code","command","nelio-ab-testing")),i&&b.createElement(x.Modal,{title:(0,v._x)("Custom Tracking Code","text","nelio-ab-testing"),onRequestClose:function(){return s(!1)}},b.createElement(I.CodeEditor,{language:"javascript",value:n,readOnly:!0})))},ne=function(e){var t=e.attributes.eventName,n=e.experimentId,r=e.goalIndex;if(!n||void 0===r)return b.createElement(b.Fragment,null,(0,v._x)("A conversion is programmatically sent to Nelio’s cloud via JavaScript.","text","nelio-ab-testing"));var o,a=(0,Y.trim)(t)?"nab.<wbr />trigger(<wbr />'".concat((0,Y.trim)(t),"')"):"nab.<wbr />convert(<wbr />".concat(n,",<wbr />").concat(r,")");
/* translators: a javascript snippet */
return o=(0,Y.trim)(t)?(0,v._x)("A custom JavaScript event is triggered using %s.","text","nelio-ab-testing"):(0,v._x)("A conversion is programmatically generated in JavaScript using %s.","text","nelio-ab-testing"),b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(o,"<code>".concat(a,"</code>")),{code:b.createElement("code",null),wbr:b.createElement("wbr",null)}))},re="nab/custom-event",oe={name:re,title:(0,v._x)("Custom event","text","nelio-ab-testing"),description:(0,v._x)("Counts the submission of a custom JS event as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"m68.856 26.466-20.602 71.95 10.89 3.118 20.602-71.95ZM42.004 41.665 27.683 55.986 19.67 64l8.01 8.012 14.324 14.321 8.013-8.01L35.692 64l14.322-14.325Zm43.992 0-8.01 8.01 14.322 14.324-14.325 14.324 8.013 8.01L100.32 72.01l8.01-8.012-8.013-8.013z",className:"icon_svg__black",style:{fill:"#70ad54"}}))},attributes:{snippet:(0,v.sprintf)('// %1$s\nwindow.addEventListener( "event-name", () => {\n  // %2$s\n  convert();\n} );',(0,v.sprintf)(/* translators: an event name */ /* translators: an event name */
(0,v._x)('Use the appropriate "%s" or create your own snippet.',"user","nelio-ab-testing"),"event-name"),(0,v._x)("Add any additional logic required.","user","nelio-ab-testing"))},scope:{type:"test-scope"},validate:function(e){var t=e.snippet;return/\bconvert\s*()\b/.test(void 0===t?"":t)?{}:{snippet:(0,v._x)("Call function convert() at least once","user","nelio-ab-testing")}},edit:function(e){var t=e.attributes.snippet,n=e.scope,r=e.errors,o=e.setAttributes,a=e.setScope;return b.createElement(b.Fragment,null,b.createElement(x.BaseControl,{help:b.createElement(I.ErrorText,{value:r.snippet})},b.createElement(I.CodeEditor,{language:"javascript",withBorder:!0,value:t,onChange:function(e){return o({snippet:e})},placeholder:J,config:{completions:[q],globals:["convert"],rules:{"detect-convert":{level:"error",module:Z}}}})),b.createElement(I.ConversionActionScope,{scope:n,setScope:a,error:r._scope}))},view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(te,X({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(null,arguments)}var ie=function(e){var t=e.attributes,n=e.setAttributes,r=e.errors,o=(0,h.useInstanceId)(ie),a=t.value,i="some-downloads"===a.type&&"download-ids"===a.value.type&&a.value.downloadIds[0]||0,s=function(e){return n({type:"download-selection",value:e})};return(0,b.useEffect)((function(){"download-selection"!==t.type&&s(a)}),[]),b.createElement(b.Fragment,null,b.createElement(x.ToggleControl,{label:(0,v._x)("Track conversion if the order contains a specific download.","command","nelio-ab-testing"),checked:"some-downloads"===a.type,onChange:function(e){return s(e?ce:le)}}),"some-downloads"===a.type&&"download-ids"===a.value.type&&b.createElement(x.BaseControl,{id:"nab-conversion-action__edd-add-to-cart-".concat(o),className:w()({"nab-conversion-action__field--has-errors":r.type}),label:b.createElement(se,{downloadId:i}),help:b.createElement(I.ErrorText,{value:r.type})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__edd-add-to-cart-".concat(o),type:"download",perPage:10,value:i,onChange:function(e){return s({type:"some-downloads",value:{type:"download-ids",mode:"and",downloadIds:e?[e]:[]}})}})))},se=function(e){var t=e.downloadId,n=ue(t);return n?b.createElement("span",null,(0,b.createInterpolateElement)((0,v._x)("Download (<a>View</a>)","text","nelio-ab-testing"),{a:b.createElement(x.ExternalLink,{href:n})})):b.createElement("span",null,(0,v._x)("Download","text","nelio-ab-testing"))},le={type:"all-downloads"},ce={type:"some-downloads",value:{type:"download-ids",mode:"and",downloadIds:[]}},ue=function(e){return _((function(t){var n;return null===(n=t(C.store).getEntityRecord("download",e))||void 0===n?void 0:n.link}))};const de=window.wp.coreData;var pe=function(){return pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pe.apply(this,arguments)},me=function(e){var t=e.status,n=Ee(t);return"complete"===t?b.createElement(b.Fragment,null,(0,v._x)("An order is completed.","text","nelio-ab-testing")):xe((0,v.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,v._x)("The status of an order is set to %s.","text","nelio-ab-testing"),he(n)))},ve=function(e){var t=e.selection,n=e.status;switch(t.type){case"download-ids":return b.createElement(fe,{selection:t,status:n});case"download-taxonomies":return b.createElement(ge,{selection:t,status:n})}},fe=function(e){var t=e.selection,n=e.status,r=t.downloadIds,o=t.mode,a=t.excluded,i=void 0!==a&&a,s=he(Ee(n)),l=(0,Y.map)(we(r),ye);switch(l.length){case 0:return xe((0,v.sprintf)(Oe,s));case 1:return xe((0,v.sprintf)(i?Pe.singleExcluded:Pe.singleIncluded,s,l[0]));default:return xe((0,v.sprintf)(i?Pe.multipleExcluded:Pe.multipleIncluded,s,(0,B.listify)(o,l)))}},ge=function(e){var t=e.selection,n=e.status,r=he(Ee(n)),o=t.value.filter((function(e){return!!e.termIds.length})),a=(0,Y.find)(o,{taxonomy:"download_category"}),i=(0,Y.map)(Ce(null==a?void 0:a.taxonomy,null==a?void 0:a.termIds),ye),s=(0,Y.find)(o,{taxonomy:"download_tag"}),l=(0,Y.map)(Ce(null==s?void 0:s.taxonomy,null==s?void 0:s.termIds),ye);if(!(0,B.hasHead)(o))return xe((0,v.sprintf)(Oe,r));if((0,B.isSingleton)(o)&&(a||s)){var c=i||l||[],u=(null==a?void 0:a.mode)||(null==s?void 0:s.mode)||"or",d=!!(null==a?void 0:a.excluded)||!!(null==s?void 0:s.excluded)||!1,p=a?Te:Fe;return(0,B.isSingleton)(c)?xe((0,v.sprintf)(d?p.singleExcluded:p.singleIncluded,r,c[0])):xe((0,v.sprintf)(d?p.multipleExcluded:p.multipleIncluded,r,(0,B.listify)(u,c)))}if(2===o.length&&a&&s)return xe((0,v.sprintf)(/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */ /* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */
(0,v._x)("The status of an order is set to %1$s and said order has at least one download in category %2$s and is tagged as %3$s.","text","nelio-ab-testing"),r,(0,B.listify)(a.mode,i),(0,B.listify)(s.mode,l)));var m=(0,Y.reverse)(o),f=m[0],g=m.slice(1),x=(0,Y.reverse)(g);return b.createElement(b.Fragment,null,xe((0,v.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,v._x)("The status of an order is set to %s and said order has at least one download that","text","nelio-ab-testing"),r)),x.map((function(e){return b.createElement(b.Fragment,null,b.createElement(be,{key:e.taxonomy,selection:e,status:n}),1===x.length?"":"; ")})),(0,B.isSingleton)(o)?"":je,b.createElement(be,{selection:f,status:n}),".")},be=function(e){var t=e.selection,n=t.taxonomy,r=t.mode,o=t.termIds,a=t.excluded,i=he(Ie(n)),s=(0,Y.map)(Ce(n,o),ye);return xe((0,v.sprintf)(a?ke.excluded:ke.included,i,(0,B.listify)(r,s)))},xe=function(e){return(0,b.createInterpolateElement)(e,{em:b.createElement("em",null),strong:b.createElement("strong",null)})},he=function(e){return"<em>".concat(e,"</em>")},ye=function(e){return"<strong>".concat(e,"</strong>")},_e=document.createElement("div"),Ee=function(e){return _((function(t){var n,r;return null!==(r=null===(n=(0,Y.find)(t(C.store).getECommerceSetting("edd","orderStatuses"),{value:e}))||void 0===n?void 0:n.label)&&void 0!==r?r:e}))},we=function(e){return _((function(t){return e.map((function(e){var n;return(0,Y.trim)(null===(n=t(C.store).getEntityRecord("download",e))||void 0===n?void 0:n.title)||(0,v.sprintf)(/* translators: product id */ /* translators: product id */
(0,v._x)("Download #%d","text","nelio-ab-testing"),e)}))}))},Ie=function(e){return _((function(t){var n,r=t(de.store).getEntityRecord("root","taxonomy",e);return null!==(n=null==r?void 0:r.labels.singular_name)&&void 0!==n?n:e}))},Ce=function(e,t){return void 0===t&&(t=[]),_((function(n){return n(de.store),e&&t?t.map((function(t){var r,o,a=n(de.store).getEntityRecord("taxonomy",e,t);return r=Ae(a)?a.name:"#".concat(t),_e.innerHTML=r,null!==(o=_e.textContent)&&void 0!==o?o:r})):[]}))},Ae=function(e){return!!e&&"object"==typeof e&&"name"in e&&!!e.name&&"string"==typeof e.name},Oe=(0,v._x)("The status of an order is set to %s.","text","nelio-ab-testing"),Pe={
/* translators: 1 -> woocomerce status, 2 -> download name */
singleExcluded:(0,v._x)("The status of an order not containing download %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> download name */
singleIncluded:(0,v._x)("The status of an order containing the download %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of download names */
multipleExcluded:(0,v._x)("The status of an order not containing any of the downloads %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of download names */
multipleIncluded:(0,v._x)("The status of an order containing downloads %2$s is set to %1$s.","text","nelio-ab-testing")},Te={
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleExcluded:(0,v._x)("The status of an order not containing any download in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleIncluded:(0,v._x)("The status of an order containing at least one download in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleExcluded:(0,v._x)("The status of an order not containing any downloads in categories %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleIncluded:(0,v._x)("The status of an order containing at least one download in categories %2$s is set to %1$s.","text","nelio-ab-testing")},Se={
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleExcluded:(0,v._x)("The status of an order not containing any download tagged as %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleIncluded:(0,v._x)("The status of an order containing at least one download tagged as %2$s is set to %1$s.","text","nelio-ab-testing")},Fe=pe(pe({},Se),{multipleExcluded:Se.singleExcluded,multipleIncluded:Se.singleIncluded}),ke={empty:"",
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
excluded:(0,v._x)("doesn’t have %2$s in taxonomy %1$s","text (implicit subject: download)","nelio-ab-testing"),
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
included:(0,v._x)("has %2$s in taxonomy %1$s","text (implicit subject: download)","nelio-ab-testing")},je=(0,v._x)(", and ","text (2+ item list)","nelio-ab-testing"),$e="nab/edd-order",Ne={name:$e,title:(0,v._x)("Easy Digital Downloads Purchase","text","nelio-ab-testing"),description:(0,v._x)("Counts an Easy Digital Downloads purchase as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),K||(K=f.createElement("path",{fill:"#2a508d",d:"M11.8 19.2a3.2 3.2 0 0 0-3.2 3.1c0 1.8 1.5 3.2 3.2 3.2h5.7c2.6 0 2.9 2.2 3 2.4l3 16 .2.6 7.6 39.4c0 .2.6 7.5 9.1 7.5h58.4c8.6 0 8.9-6.3 9.1-7.5l7.5-38v-.7s0-4-1.3-5.6-5.2-2.4-5.2-2.4H29.4l-.6-.4a.9.9 0 0 1-.3-.4l-1.9-9.7c0-.2-1-7.5-9.1-7.5h-4.7zm40.3 76a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15zm35.1 0a7.4 7.4 0 1 0 0 14.9 7.4 7.4 0 0 0 0-15z",className:"icon_svg__black"})),Q||(Q=f.createElement("path",{fill:"#fff",d:"M60.4 59.3 53 66.6l9.9 10 7.3 7.3 7.4-7.4 9.9-9.9-7.4-7.3-9.9 9.8Z",className:"icon_svg__white"})),G||(G=f.createElement("path",{fill:"#fff",d:"M65.7 45.3h9.1v25.6h-9.1z",className:"icon_svg__white"})))},requiresUniformity:!0,validate:function(e){var t=e.value;if("all-downloads"===t.type)return{};var n=t.value;switch(n.type){case"download-ids":return n.downloadIds.length?{}:{type:(0,v._x)("Please select a download","user","nelio-ab-testing")};case"download-taxonomies":var r=n.value;return r.length?r.every((function(e){return!!e.termIds.length}))?{}:{type:(0,v._x)("Please select one or more terms in all your taxonomies","user","nelio-ab-testing")}:{type:(0,v._x)("Please select one or more taxonomies","user","nelio-ab-testing")}}},isActive:function(e){return e(C.store).getActivePlugins().includes("easy-digital-downloads/easy-digital-downloads.php")},attributes:{type:"download-selection",value:{type:"all-downloads"}},scope:{type:"php-function"},edit:ie,view:function(e){var t=e.attributes,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["attributes"]),r=t.value,o=n.goal.orderStatusForConversion,a=void 0===o?"complete":o;switch(r.type){case"all-downloads":return b.createElement(me,{status:a});case"some-downloads":return b.createElement(ve,{selection:r.value,status:a})}}};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(null,arguments)}function Le(e){return"nab_elementor_form"===e.formType||"nab_hubspot_form"===e.formType}function Re(e){return"nab_hubspot_form"===e.formType?(0,v._x)("Form ID","text","nelio-ab-testing"):(0,v._x)("Form Name","text","nelio-ab-testing")}var ze=function(e){var t=e.attributes,n=e.scope,r=e.errors,o=e.setAttributes,a=e.setScope,i=t.formId,s=t.formType,l=t.formName,c=void 0===l?"":l,u=(0,h.useInstanceId)(ze),d=Ve();return(0,b.useEffect)((function(){var e;!s&&(null===(e=d[0])||void 0===e?void 0:e.value)&&o({formType:d[0].value,formId:void 0,formName:void 0})}),[s,d.length]),b.createElement(b.Fragment,null,d.length>1&&b.createElement(x.SelectControl,{label:(0,v._x)("Form Type","text","nelio-ab-testing"),options:d,value:s,onChange:function(e){return o({formType:e,formId:void 0,formName:void 0})}}),Le(t)?b.createElement(x.TextControl,{id:"nab-conversion-action__form-submission-".concat(u),label:Re(t),help:b.createElement(I.ErrorText,{value:r.formName}),value:c,onChange:function(e){return o({formType:s,formId:0,formName:e})}}):b.createElement(x.BaseControl,{id:"nab-conversion-action__form-submission-".concat(u),className:w()({"nab-conversion-action__field--has-errors":r.formId}),label:(0,v._x)("Actual Form","text","nelio-ab-testing"),help:b.createElement(I.ErrorText,{value:r.formId})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__form-submission-".concat(u),type:s,perPage:10,value:i,onChange:function(e){return o({formType:s,formId:e,formName:void 0})}})),b.createElement(I.ConversionActionScope,{scope:n,setScope:a,error:r._scope}))},Ve=function(){return _((function(e){var t=((0,e(C.store).getKindEntities)()||[]).filter((function(e){return"form"===e.kind})).map((function(e){return{value:e.name,label:e.labels.singular_name}}));return(0,Y.sortBy)(t,"label")}))},Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)},Be=function(e){var t=e.attributes,n=He(t),r=t.formType;return n?b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(function(e){switch(e){case"nelio_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Nelio Form.","text","nelio-ab-testing");case"wpcf7_contact_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Contact Form 7.","text","nelio-ab-testing");case"nab_elementor_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Elementor Form.","text","nelio-ab-testing");case"nab_hubspot_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s HubSpot Form.","text","nelio-ab-testing");case"nab_gravity_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Gravity Form.","text","nelio-ab-testing");case"nab_ninja_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Ninja Form.","text","nelio-ab-testing");case"nab_formidable_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Formidable Form.","text","nelio-ab-testing");case"wpforms":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s WPForm.","text","nelio-ab-testing");case"nab_forminator_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Forminator Form.","text","nelio-ab-testing");case"nab_fluent_form":
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s Fluent Form.","text","nelio-ab-testing");default:
/* translators: form name */
return(0,v._x)("A visitor successfully submits the %s form.","text","nelio-ab-testing")}}(r),"<strong>".concat(n,"</strong>")),{strong:b.createElement("strong",null)})):b.createElement(b.Fragment,null,function(e){switch(e){case"nelio_form":return(0,v._x)("A visitor successfully submits a Nelio Form.","text","nelio-ab-testing");case"wpcf7_contact_form":return(0,v._x)("A visitor successfully submits a Contact Form 7.","text","nelio-ab-testing");case"nab_elementor_form":return(0,v._x)("A visitor successfully submits an Elementor Form.","text","nelio-ab-testing");case"nab_hubspot_form":return(0,v._x)("A visitor successfully submits a HubSpot Form.","text","nelio-ab-testing");case"nab_gravity_form":return(0,v._x)("A visitor successfully submits a Gravity Form.","text","nelio-ab-testing");case"nab_ninja_form":return(0,v._x)("A visitor successfully submits a Ninja Form.","text","nelio-ab-testing");case"nab_formidable_form":return(0,v._x)("A visitor successfully submits a Formidable Form.","text","nelio-ab-testing");case"wpforms":return(0,v._x)("A visitor successfully submits a WPForm.","text","nelio-ab-testing");case"nab_forminator_form":return(0,v._x)("A visitor successfully submits a Forminator Form.","text","nelio-ab-testing");case"nab_fluent_form":return(0,v._x)("A visitor successfully submits a Fluent Form.","text","nelio-ab-testing");default:return(0,v._x)("A visitor successfully submits a form.","text","nelio-ab-testing")}}(r))},He=function(e){return _((function(t){var n;return t(C.store),(Le(e)?e.formName:null===(n=t(C.store).getEntityRecord(e.formType,e.formId))||void 0===n?void 0:n.title)||""}))},De="nab/form-submission",We={name:De,title:(0,v._x)("Form submission","text","nelio-ab-testing"),description:(0,v._x)("Counts a form submission as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",Me({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M45.043 27.755h64.944V45.12H45.043zM45.043 55.352h64.944v17.365H45.043zM45.043 82.948h64.944v17.365H45.043zM17.944 27.755H35.31V45.12H17.944zM17.944 55.352H35.31v17.365H17.944zM17.944 82.948H35.31v17.365H17.944z",className:"icon_svg__black",style:{fill:"#598b0e"}}))},validate:function(e){return Le(e)||e.formId?Le(e)&&!e.formName?{formName:(0,v._x)("Please specify the form whose submissions you want to track","user","nelio-ab-testing")}:{}:{formId:(0,v._x)("Please select a form to track its submissions","user","nelio-ab-testing")}},isActive:function(e){return e(C.store).getKindEntities().some((function(e){return"form"===e.kind}))},attributes:{formType:"",formId:0},scope:{type:"test-scope"},edit:ze,view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(Be,Ue({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}};function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(null,arguments)}var qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qe.apply(this,arguments)},Je=function(e){return b.createElement(b.Fragment,null,"id"===e.attributes.mode?b.createElement(Ye,qe({},e)):b.createElement(Ke,qe({},e)),b.createElement(x.ToggleControl,{label:(0,v._x)("Select page by URL","command","nelio-ab-testing"),checked:"url"===e.attributes.mode,onChange:function(t){e.setAttributes({mode:t?"url":"id"}),e.setScope(t?{type:"urls",regexes:[e.attributes.url]}:{type:"post-ids",ids:[e.attributes.postId]})}}))},Ye=function(e){var t,n=e.attributes,r=n.postId,o=n.postType,a=e.setAttributes,i=e.setScope,s=e.errors,l=(0,h.useInstanceId)(Je),c=Xe(),u=c.value,d=c.isLoading,p=o||(null===(t=u[0])||void 0===t?void 0:t.value);if((0,b.useEffect)((function(){d||u.map((function(e){return e.value})).includes(o)||m({postType:"page",postId:0})}),[o,d]),d)return null;var m=function(e){a(e),i({type:"post-ids",ids:e.postType&&e.postId?[e.postId]:[]})};return b.createElement(b.Fragment,null,u.length>1&&b.createElement(x.SelectControl,{label:(0,v._x)("Content Type","text","nelio-ab-testing"),options:u,value:p,onChange:function(e){return m({postType:e,postId:void 0})}}),b.createElement(x.BaseControl,{id:"nab-conversion-action__page-view-".concat(l),className:w()({"nab-conversion-action__field--has-errors":!!s.postId}),label:b.createElement(Qe,{postType:o,postId:r}),help:b.createElement(I.ErrorText,{value:s.postId})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__page-view-".concat(l),type:p,perPage:10,value:r,onChange:function(e){return m({postId:e,postType:p})}})))},Ke=function(e){var t=e.attributes.url,n=e.setAttributes,r=e.setScope,o=e.errors;return b.createElement(b.Fragment,null,b.createElement(x.TextControl,{label:(0,v._x)("URL","text","nelio-ab-testing"),value:t,onChange:function(e){n({url:(0,Y.trim)(e)}),r({type:"urls",regexes:(0,Y.trim)(e)?[(0,Y.trim)(e)]:[]})},help:b.createElement(I.ErrorText,{value:o.url})}))},Qe=function(e){var t=e.postType,n=e.postId,r=et(t,n);return r?b.createElement("span",null,(0,b.createInterpolateElement)((0,v._x)("Actual Content (<a>View</a>)","text","nelio-ab-testing"),{a:r?b.createElement(x.ExternalLink,{href:r}):b.createElement("span",null)})):b.createElement("span",null,(0,v._x)("Actual Content","text","nelio-ab-testing"))},Ge=["attachment","product_variation"],Xe=function(){return _((function(e){var t=e(C.store),n=t.getKindEntities,r=t.hasFinishedResolution,o=t.hasResolutionFailed,a=!r("getKindEntities")&&!o("getKindEntities"),i=(n()||[]).filter((function(e){return"entity"===e.kind&&!Ge.includes(e.name)})).map((function(e){return{value:e.name,label:e.labels.singular_name}}));return{value:(0,Y.sortBy)(i,"label"),isLoading:a}}))},et=function(e,t){return _((function(n){var r;return null===(r=n(C.store).getEntityRecord(e,t))||void 0===r?void 0:r.link}))},tt=function(){return tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tt.apply(this,arguments)},nt=function(e){var t=e.attributes,n=t.postType,r=t.postId,o=ot(n),a=at(n,r),i=it(n,r);if("page"===n||"post"===n){var s="page"===n?/* translators: the title of a page */ /* translators: the title of a page */
(0,v._x)("A visitor views the %s page.","text","nelio-ab-testing"):/* translators: the title of a post */ /* translators: the title of a post */
(0,v._x)("A visitor views the %s post.","text","nelio-ab-testing"),l="page"===n?(0,v._x)("A visitor views a page in your website.","text","nelio-ab-testing"):(0,v._x)("A visitor views a post in your website.","text","nelio-ab-testing");return a?b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(s,(0,v.sprintf)("<a>%s</a>",a)),{a:i?b.createElement(x.ExternalLink,{href:i}):b.createElement("strong",null)})):b.createElement(b.Fragment,null,l)}return a?b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: 1 -> the title of a custom post type; 2 -> a post type name */ /* translators: 1 -> the title of a custom post type; 2 -> a post type name */
(0,v._x)("A visitor views %1$s (%2$s).","text","nelio-ab-testing"),(0,v.sprintf)("<a>%s</a>",a),o),{a:i?b.createElement(x.ExternalLink,{href:i}):b.createElement("strong",null)})):b.createElement(b.Fragment,null,(0,v.sprintf)(/* translators: a custom post type */ /* translators: a custom post type */
(0,v._x)("A visitor views some content in your website with the type %s.","text","nelio-ab-testing"),o))},rt=function(e){var t=e.attributes.url;return t?b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: a page URL */ /* translators: a page URL */
(0,v._x)("A visitor views a page with URL %s.","text","nelio-ab-testing"),(0,v.sprintf)("<code>%s</code>",t)),{code:b.createElement("code",null)})):b.createElement(b.Fragment,null,(0,v._x)("A visitor views a page in your website.","text","nelio-ab-testing"))},ot=function(e){var t,n=_((function(e){return e(C.store).getKindEntities()||[]})),r=(0,Y.find)(n,{name:e||""});return(null===(t=null==r?void 0:r.labels)||void 0===t?void 0:t.singular_name)||(0,v._x)("Unknown","text (post type)","nelio-ab-testing")},at=function(e,t){return _((function(n){var r;return null===(r=n(C.store).getEntityRecord(e,t))||void 0===r?void 0:r.title}))},it=function(e,t){return _((function(n){var r;return st()&&(null===(r=n(C.store).getEntityRecord(e,t))||void 0===r?void 0:r.link)}))},st=function(){return!!document.querySelector(".nab-results-experiment-layout")},lt=function(e){return 0<=e.indexOf("?")&&(0,v._x)("Please write a URL with no query args","user","nelio-ab-testing")},ct=function(e){return!/^https:\/\//.test(e)&&(0,v._x)("Please write a full URL starting with “https://”","user","nelio-ab-testing")},ut="nab/page-view",dt={name:ut,title:(0,v._x)("Page view","text","nelio-ab-testing"),description:(0,v._x)("Counts a visit to a page as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",Ze({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M70.904 45.533v-25.44l25.44 25.44z",className:"icon_svg__grey",style:{fill:"#f6a097"}}),f.createElement("path",{d:"M31.588 20.093h39.516v25.24h25.24v62.643H31.588z",className:"icon_svg__black",style:{fill:"#ef5848"}}))},validate:function(e){var t=e.mode,n=e.url,r=e.postId;if("id"===t&&!r)return{postId:(0,v._x)("Please select a content to track its visits as conversions","user","nelio-ab-testing")};var o="url"===t&&function(e){return(0,B.getLocalUrlError)(e,(0,y.select)(C.store).getPluginSetting("homeUrl"))||(0,B.isUrlInvalid)(e)||lt(e)||ct(e)}(n);return o?{url:o}:{}},attributes:{mode:"id",postType:"page",postId:0,url:""},scope:{type:"post-ids",ids:[]},edit:Je,view:function(e){return"id"===e.attributes.mode?b.createElement(nt,tt({},e)):b.createElement(rt,tt({},e))}};function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(null,arguments)}var mt=function(){return mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mt.apply(this,arguments)},vt=function(e){var t=e.attributes,n=e.setAttributes,r=e.errors,o=t.value,a=function(e){return n({type:"product-selection",value:e})};return b.createElement(b.Fragment,null,b.createElement(x.ToggleControl,{label:(0,v._x)("Customize order tracking based on purchased products.","command","nelio-ab-testing"),checked:"some-products"===o.type,onChange:function(e){return a(e?xt:bt)}}),"some-products"===o.type&&b.createElement(ft,{value:o.value,onChange:function(e){return a({type:"some-products",value:e})},errors:r}))},ft=function(e){var t=e.value,n=e.onChange,r=e.errors,o=(0,h.useInstanceId)(vt);return"product-ids"!==t.type?null:b.createElement(b.Fragment,null,b.createElement(x.BaseControl,{id:"nab-conversion-action__wc-add-to-cart-".concat(o),className:w()({"nab-conversion-action__field--has-errors":r.type}),label:b.createElement(gt,{value:t,onChange:n}),help:b.createElement(I.ErrorText,{value:r.type})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__wc-add-to-cart-".concat(o),type:"product",perPage:10,isMultiple:!0,value:t.productIds,onChange:function(e){return n(mt(mt({},t),{productIds:e}))}})))},gt=function(e){var t=e.value,n=e.onChange;return"product-taxonomies"===t.type?null:b.createElement(x.SelectControl,{value:t.excluded?"and"===t.mode?"excluded-product-set":"excluded-products":"included",options:[{value:"included",label:(0,v._x)("Products","text","nelio-ab-testing")},{value:"excluded-products",label:(0,v._x)("Excluded Products","text","nelio-ab-testing")},{value:"excluded-product-set",label:(0,v._x)("Excluded Product Set","text","nelio-ab-testing")}],onChange:function(e){return n(mt(mt({},t),{excluded:"included"!==e||void 0,mode:"excluded-products"===e?"or":"and"}))}})},bt={type:"all-products"},xt={type:"some-products",value:{type:"product-ids",mode:"and",productIds:[]}},ht=function(){return ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ht.apply(this,arguments)},yt=function(e){var t=e.status,n=Tt(t);return"wc-completed"===t?b.createElement(b.Fragment,null,(0,v._x)("An order is completed.","text","nelio-ab-testing")):Ct((0,v.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,v._x)("The status of an order is set to %s.","text","nelio-ab-testing"),At(n)))},_t=function(e){var t=e.selection,n=e.status;switch(t.type){case"product-ids":return b.createElement(Et,{selection:t,status:n});case"product-taxonomies":return b.createElement(wt,{selection:t,status:n})}},Et=function(e){var t=e.selection,n=e.status,r=t.productIds,o=t.mode,a=t.excluded,i=void 0!==a&&a,s=At(Tt(n)),l=(0,Y.map)(St(r),Ot);switch(l.length){case 0:return Ct((0,v.sprintf)($t,s));case 1:return Ct((0,v.sprintf)(i?Nt.singleExcluded:Nt.singleIncluded,s,l[0]));default:return Ct(i?(0,v.sprintf)("and"===o?Nt.productSetExcluded:Nt.multipleProductsExcluded,s,(0,B.listify)(o,l)):(0,v.sprintf)(Nt.multipleIncluded,s,(0,B.listify)(o,l)))}},wt=function(e){var t=e.selection,n=e.status,r=At(Tt(n)),o=t.value.filter((function(e){return!!e.termIds.length})),a=(0,Y.find)(o,{taxonomy:"product_cat"}),i=(0,Y.map)(kt(null==a?void 0:a.taxonomy,null==a?void 0:a.termIds),Ot),s=(0,Y.find)(o,{taxonomy:"product_tag"}),l=(0,Y.map)(kt(null==s?void 0:s.taxonomy,null==s?void 0:s.termIds),Ot);if(!(0,B.hasHead)(o))return Ct((0,v.sprintf)($t,r));if((0,B.isSingleton)(o)&&(a||s)){var c=i||l||[],u=(null==a?void 0:a.mode)||(null==s?void 0:s.mode)||"or",d=!!(null==a?void 0:a.excluded)||!!(null==s?void 0:s.excluded)||!1,p=a?Mt:Rt;return(0,B.isSingleton)(c)?Ct((0,v.sprintf)(d?p.singleExcluded:p.singleIncluded,r,c[0])):Ct((0,v.sprintf)(d?p.multipleExcluded:p.multipleIncluded,r,(0,B.listify)(u,c)))}if(2===o.length&&a&&s)return Ct((0,v.sprintf)(/* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */ /* translators: 1 -> woocommerce order status, 2 -> list of category names, 3 -> list of tag names */
(0,v._x)("The status of an order is set to %1$s and said order has at least one product in category %2$s and is tagged as %3$s.","text","nelio-ab-testing"),r,(0,B.listify)(a.mode,i),(0,B.listify)(s.mode,l)));var m=(0,Y.reverse)(o),f=m[0],g=m.slice(1),x=(0,Y.reverse)(g);return b.createElement(b.Fragment,null,Ct((0,v.sprintf)(/* translators: woocommerce order status */ /* translators: woocommerce order status */
(0,v._x)("The status of an order is set to %s and said order has at least one product that","text","nelio-ab-testing"),r)),x.map((function(e){return b.createElement(b.Fragment,null,b.createElement(It,{key:e.taxonomy,selection:e,status:n}),1===x.length?"":"; ")})),(0,B.isSingleton)(o)?"":Vt,b.createElement(It,{selection:f,status:n}),".")},It=function(e){var t=e.selection,n=t.taxonomy,r=t.mode,o=t.termIds,a=t.excluded,i=At(Ft(n)),s=(0,Y.map)(kt(n,o),Ot);return Ct((0,v.sprintf)(a?zt.excluded:zt.included,i,(0,B.listify)(r,s)))},Ct=function(e){return(0,b.createInterpolateElement)(e,{em:b.createElement("em",null),strong:b.createElement("strong",null)})},At=function(e){return"<em>".concat(e,"</em>")},Ot=function(e){return"<strong>".concat(e,"</strong>")},Pt=document.createElement("div"),Tt=function(e){return _((function(t){var n,r;return null!==(r=null===(n=(0,Y.find)(t(C.store).getECommerceSetting("woocommerce","orderStatuses"),{value:e}))||void 0===n?void 0:n.label)&&void 0!==r?r:e}))},St=function(e){return _((function(t){return e.map((function(e){var n;return(0,Y.trim)(null===(n=t(C.store).getEntityRecord("product",e))||void 0===n?void 0:n.title)||(0,v.sprintf)(/* translators: product id */ /* translators: product id */
(0,v._x)("Product #%d","text","nelio-ab-testing"),e)}))}))},Ft=function(e){return _((function(t){var n,r=t(de.store).getEntityRecord("root","taxonomy",e);return null!==(n=null==r?void 0:r.labels.singular_name)&&void 0!==n?n:e}))},kt=function(e,t){return void 0===t&&(t=[]),_((function(n){return n(de.store),e&&t?t.map((function(t){var r,o,a=n(de.store).getEntityRecord("taxonomy",e,t);return r=jt(a)?a.name:"#".concat(t),Pt.innerHTML=r,null!==(o=Pt.textContent)&&void 0!==o?o:r})):[]}))},jt=function(e){return!!e&&"object"==typeof e&&"name"in e&&!!e.name&&"string"==typeof e.name},$t=(0,v._x)("The status of an order is set to %s.","text","nelio-ab-testing"),Nt={
/* translators: 1 -> woocomerce status, 2 -> product name */
singleExcluded:(0,v._x)("The status of an order is set %1$s and doesn’t contain product %2$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> product name */
singleIncluded:(0,v._x)("The status of an order is set %1$s and contains product %2$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of product names */
multipleProductsExcluded:(0,v._x)("The status of an order is set to %1$s and doesn’t contain any of the products %2$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of product names */
productSetExcluded:(0,v._x)("The status of an order is set to %1$s and doesn’t contain all of the products %2$s together.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of product names */
multipleIncluded:(0,v._x)("The status of an order is set to %1$s and contains all of the products %2$s together.","text","nelio-ab-testing")},Mt={
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleExcluded:(0,v._x)("The status of an order not containing any product in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> woocommerce category name */
singleIncluded:(0,v._x)("The status of an order containing at least one product in category %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleExcluded:(0,v._x)("The status of an order not containing any products in categories %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocomerce status, 2 -> list of woocommerce category names */
multipleIncluded:(0,v._x)("The status of an order containing at least one product in categories %2$s is set to %1$s.","text","nelio-ab-testing")},Lt={
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleExcluded:(0,v._x)("The status of an order not containing any product tagged as %2$s is set to %1$s.","text","nelio-ab-testing"),
/* translators: 1 -> woocommerce order status, 2 -> woocomerce tag name */
singleIncluded:(0,v._x)("The status of an order containing at least one product tagged as %2$s is set to %1$s.","text","nelio-ab-testing")},Rt=ht(ht({},Lt),{multipleExcluded:Lt.singleExcluded,multipleIncluded:Lt.singleIncluded}),zt={empty:"",
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
excluded:(0,v._x)("doesn’t have %2$s in taxonomy %1$s","text (implicit subject: product)","nelio-ab-testing"),
/* translators: 1 -> woocomerce taxonomy name, 2 -> list of woocommerce term names */
included:(0,v._x)("has %2$s in taxonomy %1$s","text (implicit subject: product)","nelio-ab-testing")},Vt=(0,v._x)(", and ","text (2+ item list)","nelio-ab-testing"),Ut="nab/wc-order",Bt={name:Ut,title:(0,v._x)("WooCommerce Purchase","text","nelio-ab-testing"),description:(0,v._x)("Counts a WooCommerce purchase as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",pt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M11.797 19.172a3.164 3.164 0 0 0-3.154 3.154 3.16 3.16 0 0 0 3.154 3.153h5.676c2.583 0 2.913 2.244 2.947 2.414l3.133 15.955.125.617s5.727 29.59 7.65 39.451c.033.17.582 7.494 9.115 7.494h58.354c8.62 0 8.892-6.301 9.117-7.494 1.797-9.537 7.512-38.09 7.512-38.09.033-.17.056-.45.052-.623 0 0-.08-3.978-1.394-5.576h-.002c-1.314-1.598-5.2-2.447-5.2-2.447a3.5 3.5 0 0 0-.622-.069l-78.215.026c-.174 0-.455.023-.627.05l-.61-.345a.87.87 0 0 1-.328-.483l-1.877-9.707c-.034-.17-.949-7.48-9.13-7.48h-4.625zM52.13 95.16c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.338 7.44 7.44 7.44s7.437-3.339 7.437-7.44-3.335-7.438-7.437-7.438m35.074 0c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.339 7.44 7.44 7.44s7.44-3.339 7.44-7.44-3.338-7.438-7.44-7.438",className:"icon_svg__black",style:{fill:"#2a508d"}}),f.createElement("path",{d:"M83.54 47.787 65.988 65.339l-9.883-9.883-7.376 7.376 9.883 9.883 7.375 7.375 7.376-7.376 17.552-17.552z",className:"icon_svg__white",style:{fill:"#fff"}}))},requiresUniformity:!0,validate:function(e){var t=e.value;if("all-products"===t.type)return{};var n=t.value;switch(n.type){case"product-ids":return n.productIds.length?{}:{type:(0,v._x)("Please select a product","user","nelio-ab-testing")};case"product-taxonomies":var r=n.value;return r.length?r.every((function(e){return!!e.termIds.length}))?{}:{type:(0,v._x)("Please select one or more terms in all your taxonomies","user","nelio-ab-testing")}:{type:(0,v._x)("Please select one or more taxonomies","user","nelio-ab-testing")}}},isActive:function(e){return e(C.store).getActivePlugins().includes("woocommerce/woocommerce.php")},attributes:{type:"product-selection",value:{type:"all-products"}},scope:{type:"php-function"},edit:vt,view:function(e){var t=e.attributes,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["attributes"]),r=t.value,o=n.goal.orderStatusForConversion,a=void 0===o?"wc-completed":o;switch(r.type){case"all-products":return b.createElement(yt,{status:a});case"some-products":return b.createElement(_t,{selection:r.value,status:a})}}};function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(null,arguments)}var Dt,Wt=function(e){var t=e.attributes,n=t.anyProduct,r=t.productId,o=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope,l=(0,h.useInstanceId)(Wt);return b.createElement(b.Fragment,null,b.createElement(x.ToggleControl,{label:(0,v._x)("Track conversion if a specific product is added to the shopping cart.","command","nelio-ab-testing"),checked:!n,onChange:function(){return i({anyProduct:!n})}}),!n&&b.createElement(x.BaseControl,{id:"nab-conversion-action__wc-order-".concat(l),className:w()({"nab-conversion-action__field--has-errors":a.productId}),label:b.createElement(Zt,{productId:r}),help:b.createElement(I.ErrorText,{value:a.productId})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__wc-order-".concat(l),type:"product",perPage:10,value:r,onChange:function(e){return i({productId:e})}})),b.createElement(I.ConversionActionScope,{scope:o,setScope:s,error:a._scope}))},Zt=function(e){var t=e.productId,n=qt(t);return n?b.createElement("span",null,(0,b.createInterpolateElement)((0,v._x)("Product (<a>View</a>)","text","nelio-ab-testing"),{a:b.createElement(x.ExternalLink,{href:n})})):b.createElement("span",null,(0,v._x)("Product","text","nelio-ab-testing"))},qt=function(e){return _((function(t){var n;return null===(n=t(C.store).getEntityRecord("product",e))||void 0===n?void 0:n.link}))},Jt=function(){return Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jt.apply(this,arguments)},Yt=function(e){var t=e.attributes,n=t.anyProduct,r=t.productId,o=Kt(r);return n?b.createElement(b.Fragment,null,(0,v._x)("Any product is added to the shopping cart.","text","nelio-ab-testing")):o?b.createElement(b.Fragment,null,(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: the name of a product */ /* translators: the name of a product */
(0,v._x)("The product %s is added to the shopping cart.","text","nelio-ab-testing"),(0,v.sprintf)("<strong>%s</strong>",o)),{strong:b.createElement("strong",null)})):b.createElement(b.Fragment,null,(0,v._x)("A specific product is added to the shopping cart.","text","nelio-ab-testing"))},Kt=function(e){return _((function(t){var n;return null===(n=t(C.store).getEntityRecord("product",e))||void 0===n?void 0:n.title}))},Qt="nab/wc-add-to-cart",Gt={name:Qt,title:(0,v._x)("Add WooCommerce product to cart","text","nelio-ab-testing"),description:(0,v._x)("Counts adding a product to the shopping cart in WooCommerce as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",Ht({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M11.797 19.172a3.164 3.164 0 0 0-3.154 3.154 3.16 3.16 0 0 0 3.154 3.153h5.676c2.583 0 2.913 2.244 2.947 2.414l3.133 15.955.125.617s5.727 29.59 7.65 39.451c.033.17.582 7.494 9.115 7.494h58.354c8.62 0 8.892-6.301 9.117-7.494 1.797-9.537 7.512-38.09 7.512-38.09.033-.17.056-.45.052-.623 0 0-.08-3.978-1.394-5.576h-.002c-1.314-1.598-5.2-2.447-5.2-2.447a3.5 3.5 0 0 0-.622-.069l-78.215.026c-.174 0-.455.023-.627.05l-.61-.345a.87.87 0 0 1-.328-.483l-1.877-9.707c-.034-.17-.949-7.48-9.13-7.48h-4.625zM52.13 95.16c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.338 7.44 7.44 7.44s7.437-3.339 7.437-7.44-3.335-7.438-7.437-7.438m35.074 0c-4.102 0-7.44 3.336-7.44 7.438 0 4.101 3.339 7.44 7.44 7.44s7.44-3.339 7.44-7.44-3.338-7.438-7.44-7.438",className:"icon_svg__black",style:{fill:"#2a508d"}}),f.createElement("path",{d:"M64.607 46.312v12.41H52.195v10.431h12.412v12.412H75.04V69.153h12.41V58.722H75.04v-12.41Z",className:"icon_svg__white",style:{fill:"#fff"}}))},validate:function(e){var t=e.anyProduct,n=e.productId;return t||n?{}:{productId:(0,v._x)("Please select a product","user","nelio-ab-testing")}},isActive:function(e){return e(C.store).getActivePlugins().includes("woocommerce/woocommerce.php")},attributes:{anyProduct:!1,productId:0},scope:{type:"test-scope"},edit:Wt,view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(Yt,Jt({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}};function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(null,arguments)}var en=function(e){var t=e.attributes,n=e.setAttributes,r=e.errors,o=(0,h.useInstanceId)(en),a=t.value,i="some-surecart-products"===a.type&&"surecart-ids"===a.value.type&&a.value.productIds[0]||"",s=function(e){return n({type:"surecart-selection",value:e})};return(0,b.useEffect)((function(){"surecart-selection"!==t.type&&s(a)}),[]),b.createElement(b.Fragment,null,b.createElement(x.ToggleControl,{label:(0,v._x)("Track conversion if the order contains a specific product.","command","nelio-ab-testing"),checked:"some-surecart-products"===a.type,onChange:function(e){return s(e?rn:nn)}}),"some-surecart-products"===a.type&&"surecart-ids"===a.value.type&&b.createElement(x.BaseControl,{id:"nab-conversion-action__surecart-add-to-cart-".concat(o),className:w()({"nab-conversion-action__field--has-errors":r.type}),label:b.createElement(tn,{productId:i}),help:b.createElement(I.ErrorText,{value:r.type})},b.createElement(I.PostSearcher,{id:"nab-conversion-action__surecart-add-to-cart-".concat(o),type:"sc_product",perPage:10,value:i,onChange:function(e){return s({type:"some-surecart-products",value:{type:"surecart-ids",mode:"and",productIds:e?[e]:[]}})}})))},tn=function(e){var t=e.productId,n=on(t);return n?b.createElement("span",null,(0,b.createInterpolateElement)((0,v._x)("Product (<a>View</a>)","text","nelio-ab-testing"),{a:b.createElement(x.ExternalLink,{href:n})})):b.createElement("span",null,(0,v._x)("Product","text","nelio-ab-testing"))},nn={type:"all-surecart-products"},rn={type:"some-surecart-products",value:{type:"surecart-ids",mode:"and",productIds:[]}},on=function(e){return _((function(t){var n;return null===(n=t(C.store).getEntityRecord("sc_product",e))||void 0===n?void 0:n.link}))},an=function(){return b.createElement(b.Fragment,null,(0,v._x)("An order is paid.","text","nelio-ab-testing"))},sn=function(e){var t=e.selection;return b.createElement(ln,{selection:t})},ln=function(e){var t=e.selection,n=t.productIds,r=t.mode,o=t.excluded,a=void 0!==o&&o,i=(0,Y.map)(dn(n),un);switch(i.length){case 0:return cn(pn);case 1:return cn((0,v.sprintf)(a?mn.singleExcluded:mn.singleIncluded,i[0]));default:return cn((0,v.sprintf)(a?mn.multipleExcluded:mn.multipleIncluded,(0,B.listify)(r,i)))}},cn=function(e){return(0,b.createInterpolateElement)(e,{strong:b.createElement("strong",null)})},un=function(e){return"<strong>".concat(e,"</strong>")},dn=function(e){return _((function(t){return e.map((function(e){var n;return(0,Y.trim)(null===(n=t(C.store).getEntityRecord("sc_product",e))||void 0===n?void 0:n.title)||(0,v.sprintf)(/* translators: product id */ /* translators: product id */
(0,v._x)("Product #%s","text","nelio-ab-testing"),e)}))}))},pn=(0,v._x)("The status of an order is set to paid.","text","nelio-ab-testing"),mn={
/* translators: product name */
singleExcluded:(0,v._x)("The status of an order not containing product %s is set to paid.","text","nelio-ab-testing"),
/* translators: product name */
singleIncluded:(0,v._x)("The status of an order containing the product %s is set to paid.","text","nelio-ab-testing"),
/* translators: list of product names */
multipleExcluded:(0,v._x)("The status of an order not containing any of the products %s is set to paid.","text","nelio-ab-testing"),
/* translators: list of product names */
multipleIncluded:(0,v._x)("The status of an order containing products %s is set to paid.","text","nelio-ab-testing")},vn="nab/surecart-order",fn={name:vn,title:(0,v._x)("SureCart Purchase","text","nelio-ab-testing"),description:(0,v._x)("Counts a SureCart purchase as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),Dt||(Dt=f.createElement("path",{fill:"#01824c",fillRule:"evenodd",d:"M64 108.48c24.564 0 44.477-19.913 44.477-44.478 0-24.564-19.913-44.477-44.477-44.477-24.565 0-44.478 19.913-44.478 44.477 0 24.565 19.913 44.478 44.478 44.478m.191-66.714c-3.571 0-8.514 2.043-11.04 4.562l-6.858 6.843H80.48l11.431-11.405zM74.79 81.682c-2.526 2.52-7.468 4.562-11.04 4.562H36.03L47.461 74.84h34.187zM85.9 58.873H40.59l-2.14 2.139c-5.069 4.561-3.566 8.125 3.532 8.125h45.433L89.556 67c5.02-4.535 3.442-8.126-3.655-8.126z",className:"icon_svg__black",clipRule:"evenodd"})))},validate:function(e){var t=e.value;if("all-surecart-products"===t.type)return{};var n=t.value;return"surecart-ids"===n.type?n.productIds.length?{}:{type:(0,v._x)("Please select a product","user","nelio-ab-testing")}:void 0},isActive:function(e){return e(C.store).getActivePlugins().includes("surecart/surecart.php")},attributes:{type:"surecart-selection",value:{type:"all-surecart-products"}},scope:{type:"php-function"},edit:en,view:function(e){var t=e.attributes.value;switch(t.type){case"all-surecart-products":return b.createElement(an,null);case"some-surecart-products":return b.createElement(sn,{selection:t.value})}}};function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(null,arguments)}var bn=function(){return bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bn.apply(this,arguments)},xn=function(e){var t=e.attributes,n=t.event,r=t.videoId;if(!r)return b.createElement(b.Fragment,null,"play"===n?(0,v._x)("A visitor plays a YouTube video.","text","nelio-ab-testing"):(0,v._x)("A visitor reaches the end of a YouTube video.","text","nelio-ab-testing"));switch(n){case"play":return(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: video id, such as “dQw4w9WgXcQ” */ /* translators: video id, such as “dQw4w9WgXcQ” */
(0,v._x)("A visitor plays the YouTube video %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)});case"end":return(0,b.createInterpolateElement)((0,v.sprintf)(/* translators: video id, such as “dQw4w9WgXcQ” */ /* translators: video id, such as “dQw4w9WgXcQ” */
(0,v._x)("A visitor reaches the end of the YouTube video %s.","text","nelio-ab-testing"),"<code>".concat(r,"</code>")),{code:b.createElement("code",null)})}},hn="nab/video-playback",yn={name:hn,title:(0,v._x)("YouTube Video Playback","text","nelio-ab-testing"),description:(0,v._x)("Counts YouTube video playback (starting or ending) as a conversion.","text","nelio-ab-testing"),icon:function(e){return f.createElement("svg",gn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),f.createElement("path",{d:"M51.035 98.77c-12.906-.387-20.993-.951-25.047-1.748-2.337-.459-4.858-1.801-6.537-3.48-2.86-2.861-3.871-6.158-4.668-15.224-1.263-14.364-.35-33.636 1.877-39.588 1.178-3.149 4.378-6.192 7.643-7.267 8.826-2.907 67.267-3.052 78.44-.194 2.417.618 3.842 1.441 5.704 3.296 1.948 1.94 2.697 3.237 3.392 5.874 2.6 9.861 2.601 37.043.002 47.293-.635 2.502-1.453 3.943-3.305 5.819-3.06 3.1-5.707 3.867-15.692 4.551-6.697.459-12.62.613-25.826.671-7.611.034-14.804.033-15.983-.003z",className:"icon_svg__black",style:{fill:"red"}}),f.createElement("path",{d:"M53.692 78.915V48.814L79.997 64z",className:"icon_svg__white",style:{fill:"#fff"}}))},validate:function(e){var t=e.platform,n=e.videoId;return"youtube"!==t||/[-\w]{11}/.test(n)?n?{}:{videoId:(0,v._x)("Please write a video ID","user","nelio-ab-testing")}:{videoId:(0,v._x)("Please write a valid YouTube video ID. For instance, the video ID dQw4w9WgXcQ refers to https://youtu.be/dQw4w9WgXcQ","user","nelio-ab-testing")}},attributes:{platform:"youtube",event:"play",videoId:""},scope:{type:"test-scope"},edit:function(e){var t=e.attributes,n=t.event,r=t.videoId,o=e.scope,a=e.errors,i=e.setAttributes,s=e.setScope;return b.createElement(b.Fragment,null,b.createElement(x.SelectControl,{label:(0,v._x)("Event","text","nelio-ab-testing"),options:[{value:"play",label:(0,v._x)("Play Video","text","nelio-ab-testing")},{value:"end",label:(0,v._x)("Reach End of Video","text","nelio-ab-testing")}],value:n,onChange:function(e){return i({event:e})}}),b.createElement(x.TextControl,{className:w()({"nab-conversion-action__field--has-errors":a.videoId}),label:(0,v._x)("Video ID","text","nelio-ab-testing"),value:r,help:b.createElement(I.ErrorText,{value:a.videoId}),placeholder:(0,v._x)("Video ID","text","nelio-ab-testing"),onChange:function(e){return i({videoId:e})}}),b.createElement(I.ConversionActionScope,{scope:o,setScope:s,error:a._scope}))},view:function(e){return b.createElement(b.Fragment,null,b.createElement("div",null,b.createElement(xn,bn({},e))),b.createElement(I.ConversionActionScopeView,{scope:e.scope}))}},En=function(){[s,e,t,a,i,d,l,c,u,o].forEach((function(e){if(e){var t=e.name,n=e.settings;(0,m.registerConversionActionType)(t,n)}}))}})();var o=nab="undefined"==typeof nab?{}:nab;for(var a in r)o[a]=r[a];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();